<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在台灣常見的地理位置表示方式 - Yuan のノート</title><meta name=description content="心之所至，隨意亂書"><meta name=keywords content="golang,embedded,linux,backend,programming"><meta name=author content="Yuan"><meta property="og:title" content="在台灣常見的地理位置表示方式 - Yuan のノート"><meta property="og:description" content="心之所至，隨意亂書"><meta property="og:type" content="article"><meta property="og:url" content="https://e61983.github.io/posts/gps-format/"><link rel=icon type=image/x-icon href=/favicon.ico><link rel=stylesheet href=https://e61983.github.io/yuan/css/main.min.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css></head><body class=theme-dark><div class=layout><header class=header><div class=container><div class=header-content><div class=header-brand><a href=https://e61983.github.io/ class=brand-link><span class=brand-text>Yuan のノート</span></a><p class=brand-subtitle>心之所至，隨意亂書</p></div><nav class=nav><ul class=nav-list><li class=nav-item><a href=/ class=nav-link>首頁</a></li><li class=nav-item><a href=/posts/ class=nav-link>文章</a></li><li class=nav-item><a href=/categories/ class=nav-link>分類</a></li><li class=nav-item><a href=/tags/ class=nav-link>標籤</a></li><li class=nav-item><a href=/archive/ class=nav-link>歸檔</a></li></ul></nav><button class=mobile-menu-toggle aria-label="Toggle menu">
<span class=hamburger></span>
<span class=hamburger></span>
<span class=hamburger></span></button></div></div></header><main class=main><div class=container><div class=post-layout><article class=post><header class=post-header><h1 class=post-title>在台灣常見的地理位置表示方式</h1><div class=post-meta><time class=post-date datetime=2021-08-19T14:22:28+08:00>2021年08月19日
</time><span class=reading-time>4 分鐘閱讀</span>
<span class=word-count>832 字</span>
<span class=post-author>by Yuan</span></div><div class=post-tags><a href=/tags/geo class=tag>geo</a>
<a href=/tags/gps class=tag>gps</a>
<a href=/tags/go class=tag>go</a></div><div class=post-categories><a href=/categories/gis class=category>gis</a></div></header><div class=mobile-toc-toggle><button class=toc-toggle-btn aria-label=顯示/隱藏目錄>
<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"/></svg>
目錄</button><nav class=mobile-toc><h3 class=toc-title>目錄</h3><nav id=TableOfContents><ul><li><a href=#前言>前言</a></li><li><a href=#主要內容>主要內容</a><ul><li></li><li><a href=#座標轉換>座標轉換</a></li></ul></li><li><a href=#小結>小結</a></li><li><a href=#參考連結>參考連結</a></li></ul></nav></nav></div><div class=post-content><h2 id=前言>前言</h2><p>最近開始接觸到跟 GPS 有關的東西，想說順便把地理定位相關的資料整理起來。所以這一篇就這樣誕生啦。</p><h2 id=主要內容>主要內容</h2><p>地表上任何一個地理位置都可以用<strong>大地基準 ( Datum )</strong> + <strong>座標格式 ( Format )</strong> 來表示。
在台灣我們常聽到的 <code>TWD67</code>、<code>TWD97</code>、<code>WGS84</code> 就是大地基準。而<code>大地座標</code>、<code>六度分帶(UTM)</code>、<code>二度分帶(TM2)</code> 就是座標格式。</p><h4 id=大地基準>大地基準</h4><ul><li>TWD67
平面基準為1967年之參考橢球體(GRS67)，以南投埔里之虎子山為大地基準。
橢球參數:長軸 a = 6378160m，扁率 $f = 298.25$</li><li>TWD97
平面基準為1980年之參考橢球體(GRS80)，以八個衛星追蹤站為基準。
橢球參數:長軸 a = 6378137m，扁率 $f = 298.257222101$</li><li>WGS84
世界大地測量系統（英語：World Geodetic System, WGS），1984年的版本，也稱為 EPSG:4326。透過遍布世界的衛星觀測站觀測到的坐標建立，其精度為1~ 2m。
地球的質量中心為中心點，加上世界各地的1500個地理座標參考點。
橢球參數:長軸 a = 6378137m，扁率 $f = 298.257223563$</li></ul><figure><img src=/posts/gps-format/images/ellipsoid.png alt=參考橢球體 width=240px><figcaption><p>參考橢球體</p></figcaption></figure><p>$ a: 長軸 $
$ b: 短軸 $
$ f: 扁率 = \frac{a-b}{a} $</p><h4 id=座標格式>座標格式</h4><ul><li><p>大地座標
經、緯度座標。以<code>度</code>、<code>分</code>、<code>秒</code>表示。(<strong>僅能表示位置與方向，無法直接表示距離</strong>)</p><figure><img src=/posts/gps-format/images/ECEF_ENU_Longitude_Latitude_relationships.svg.png alt=https://en.wikipedia.org/wiki/Local_tangent_plane_coordinates width=240px><figcaption><p><a href=https://en.wikipedia.org/wiki/Local_tangent_plane_coordinates>https://en.wikipedia.org/wiki/Local_tangent_plane_coordinates</a></p></figcaption></figure></li><li><p>平面座標 (<strong>可以表示距離與面績</strong>)<figure><img src=/posts/gps-format/images/Universal_Transverse_Mercator_zones.svg.png alt=https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system><figcaption><p><a href=https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system>https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system</a></p></figcaption></figure></p><ul><li><p>六度分帶 ( Universal Transverse Mercator, UTM)<figure><img src=/posts/gps-format/images/utm.png alt=橫麥卡托六度分帶><figcaption><p>橫麥卡托六度分帶</p></figcaption></figure></p></li><li><p>二度分帶 (TM2)<figure><img src=/posts/gps-format/images/tm2.png alt=橫麥卡托二度分帶><figcaption><p>橫麥卡托二度分帶</p></figcaption></figure></p></li></ul></li></ul><h3 id=座標轉換>座標轉換</h3><h4 id=twd97-轉-twd67-平面四參數轉換僅適用台灣本島最大誤差約2公尺>TWD97 轉 TWD67 (平面四參數轉換:僅適用台灣本島，最大誤差約2公尺)</h4><p>$X_{67} =X_{97} - 807.8 - AX_{97} - BY_{97}$
$Y_{67} = Y_{97} + 248.6 - AY_{97} - BX_{97}$
$A = 0.00001549$
$B = 0.000006521$</p><h4 id=twd67-轉-twd97-平面四參數轉換僅適用台灣本島最大誤差約2公尺>TWD67 轉 TWD97 (平面四參數轉換:僅適用台灣本島，最大誤差約2公尺)</h4><p>$X_{97} = X_{67} + 807.8 + AX_{67} + BY_{67}$
$Y_{97} =Y_{67} - 248.6 + AY_{67} + BX_{67}$
$A = 0.00001549$
$B = 0.000006521$</p><h4 id=實作>實作</h4><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">140
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#ff7b72>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#a5d6ff>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a5d6ff>&#34;math&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>const</span> (
</span></span><span style=display:flex><span>	a    <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>6378137.0</span>
</span></span><span style=display:flex><span>	b    <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>6356752.3142451</span>
</span></span><span style=display:flex><span>	lon0 <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>121</span> <span style=color:#ff7b72;font-weight:700>*</span> math.Pi <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>180</span>
</span></span><span style=display:flex><span>	k0   <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>0.9999</span>
</span></span><span style=display:flex><span>	dx   <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>250000</span>
</span></span><span style=display:flex><span>	dy   <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>var</span> (
</span></span><span style=display:flex><span>	e  <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>-</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(b, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>/</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(a, <span style=color:#a5d6ff>2</span>)
</span></span><span style=display:flex><span>	e2 <span style=color:#ff7b72>float64</span> = (<span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>-</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(b, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>/</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(a, <span style=color:#a5d6ff>2</span>)) <span style=color:#ff7b72;font-weight:700>/</span> (math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(b, <span style=color:#a5d6ff>2</span>) <span style=color:#ff7b72;font-weight:700>/</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(a, <span style=color:#a5d6ff>2</span>))
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>LonLat2TM2</span>(lon, lat <span style=color:#ff7b72>float64</span>) (x, y <span style=color:#ff7b72>float64</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	lon = (lon <span style=color:#ff7b72;font-weight:700>-</span> math.<span style=color:#d2a8ff;font-weight:700>Floor</span>((lon<span style=color:#ff7b72;font-weight:700>+</span><span style=color:#a5d6ff>180</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>360</span>)<span style=color:#ff7b72;font-weight:700>*</span><span style=color:#a5d6ff>360</span>) <span style=color:#ff7b72;font-weight:700>*</span> math.Pi <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>180</span>
</span></span><span style=display:flex><span>	lat = lat <span style=color:#ff7b72;font-weight:700>*</span> math.Pi <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>180</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	V <span style=color:#ff7b72;font-weight:700>:=</span> a <span style=color:#ff7b72;font-weight:700>/</span> math.<span style=color:#d2a8ff;font-weight:700>Sqrt</span>(<span style=color:#a5d6ff>1</span><span style=color:#ff7b72;font-weight:700>-</span>e<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(lat), <span style=color:#a5d6ff>2</span>))
</span></span><span style=display:flex><span>	T <span style=color:#ff7b72;font-weight:700>:=</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(math.<span style=color:#d2a8ff;font-weight:700>Tan</span>(lat), <span style=color:#a5d6ff>2</span>)
</span></span><span style=display:flex><span>	C <span style=color:#ff7b72;font-weight:700>:=</span> e2 <span style=color:#ff7b72;font-weight:700>*</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(math.<span style=color:#d2a8ff;font-weight:700>Cos</span>(lat), <span style=color:#a5d6ff>2</span>)
</span></span><span style=display:flex><span>	A <span style=color:#ff7b72;font-weight:700>:=</span> math.<span style=color:#d2a8ff;font-weight:700>Cos</span>(lat) <span style=color:#ff7b72;font-weight:700>*</span> (lon <span style=color:#ff7b72;font-weight:700>-</span> lon0)
</span></span><span style=display:flex><span>	M <span style=color:#ff7b72;font-weight:700>:=</span> a <span style=color:#ff7b72;font-weight:700>*</span> ((<span style=color:#a5d6ff>1.0</span><span style=color:#ff7b72;font-weight:700>-</span>e<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>4.0</span><span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>3.0</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>64.0</span><span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>5.0</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e, <span style=color:#a5d6ff>3</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>256.0</span>)<span style=color:#ff7b72;font-weight:700>*</span>lat <span style=color:#ff7b72;font-weight:700>-</span>
</span></span><span style=display:flex><span>		(<span style=color:#a5d6ff>3.0</span><span style=color:#ff7b72;font-weight:700>*</span>e<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>8.0</span><span style=color:#ff7b72;font-weight:700>+</span><span style=color:#a5d6ff>3.0</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>32.0</span><span style=color:#ff7b72;font-weight:700>+</span><span style=color:#a5d6ff>45.0</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e, <span style=color:#a5d6ff>3</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>1024.0</span>)<span style=color:#ff7b72;font-weight:700>*</span>
</span></span><span style=display:flex><span>		math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(<span style=color:#a5d6ff>2.0</span><span style=color:#ff7b72;font-weight:700>*</span>lat) <span style=color:#ff7b72;font-weight:700>+</span> (<span style=color:#a5d6ff>15.0</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>256.0</span><span style=color:#ff7b72;font-weight:700>+</span><span style=color:#a5d6ff>45.0</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e, <span style=color:#a5d6ff>3</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>1024.0</span>)<span style=color:#ff7b72;font-weight:700>*</span>
</span></span><span style=display:flex><span>		math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(<span style=color:#a5d6ff>4.0</span><span style=color:#ff7b72;font-weight:700>*</span>lat) <span style=color:#ff7b72;font-weight:700>-</span> (<span style=color:#a5d6ff>35.0</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e, <span style=color:#a5d6ff>3</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>3072.0</span>)<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(<span style=color:#a5d6ff>6.0</span><span style=color:#ff7b72;font-weight:700>*</span>lat))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	x = dx <span style=color:#ff7b72;font-weight:700>+</span> 
</span></span><span style=display:flex><span>		k0<span style=color:#ff7b72;font-weight:700>*</span>V<span style=color:#ff7b72;font-weight:700>*</span>(A<span style=color:#ff7b72;font-weight:700>+</span>(<span style=color:#a5d6ff>1</span><span style=color:#ff7b72;font-weight:700>-</span>T<span style=color:#ff7b72;font-weight:700>+</span>C)<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(A, <span style=color:#a5d6ff>3</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>6</span><span style=color:#ff7b72;font-weight:700>+</span>
</span></span><span style=display:flex><span>		(<span style=color:#a5d6ff>5</span><span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>18</span><span style=color:#ff7b72;font-weight:700>*</span>T<span style=color:#ff7b72;font-weight:700>+</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(T, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>+</span><span style=color:#a5d6ff>72</span><span style=color:#ff7b72;font-weight:700>*</span>C<span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>58</span><span style=color:#ff7b72;font-weight:700>*</span>e2)<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(A, <span style=color:#a5d6ff>5</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>120</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	y = dy <span style=color:#ff7b72;font-weight:700>+</span> 
</span></span><span style=display:flex><span>		k0<span style=color:#ff7b72;font-weight:700>*</span>(M<span style=color:#ff7b72;font-weight:700>+</span>V<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Tan</span>(lat)<span style=color:#ff7b72;font-weight:700>*</span>(math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(A, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>2</span><span style=color:#ff7b72;font-weight:700>+</span>(<span style=color:#a5d6ff>5</span><span style=color:#ff7b72;font-weight:700>-</span>T<span style=color:#ff7b72;font-weight:700>+</span><span style=color:#a5d6ff>9</span><span style=color:#ff7b72;font-weight:700>*</span>C<span style=color:#ff7b72;font-weight:700>+</span><span style=color:#a5d6ff>4</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(C, <span style=color:#a5d6ff>2</span>))<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(A, <span style=color:#a5d6ff>4</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>24</span><span style=color:#ff7b72;font-weight:700>+</span>
</span></span><span style=display:flex><span>		(<span style=color:#a5d6ff>61</span><span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>58</span><span style=color:#ff7b72;font-weight:700>*</span>T<span style=color:#ff7b72;font-weight:700>+</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(T, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>+</span><span style=color:#a5d6ff>600</span><span style=color:#ff7b72;font-weight:700>*</span>C<span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>330</span><span style=color:#ff7b72;font-weight:700>*</span>e2)<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(A, <span style=color:#a5d6ff>6</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>720</span>))
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>TM22LonLat</span>(x, y <span style=color:#ff7b72>float64</span>) (lon, lat <span style=color:#ff7b72>float64</span>) {
</span></span><span style=display:flex><span>	x <span style=color:#ff7b72;font-weight:700>-=</span> dx
</span></span><span style=display:flex><span>	y <span style=color:#ff7b72;font-weight:700>-=</span> dy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8b949e;font-style:italic>// Calculate the Meridional Arc</span>
</span></span><span style=display:flex><span>	M <span style=color:#ff7b72;font-weight:700>:=</span> y <span style=color:#ff7b72;font-weight:700>/</span> k0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8b949e;font-style:italic>// Calculate Footprint Latitude</span>
</span></span><span style=display:flex><span>	mu <span style=color:#ff7b72;font-weight:700>:=</span> M <span style=color:#ff7b72;font-weight:700>/</span> (a <span style=color:#ff7b72;font-weight:700>*</span> (<span style=color:#a5d6ff>1.0</span> <span style=color:#ff7b72;font-weight:700>-</span> e<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>4.0</span> <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>3</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>64.0</span> <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>5</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e, <span style=color:#a5d6ff>3</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>256.0</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	e1 <span style=color:#ff7b72;font-weight:700>:=</span> (<span style=color:#a5d6ff>1.0</span> <span style=color:#ff7b72;font-weight:700>-</span> math.<span style=color:#d2a8ff;font-weight:700>Sqrt</span>(<span style=color:#a5d6ff>1.0</span><span style=color:#ff7b72;font-weight:700>-</span>e)) <span style=color:#ff7b72;font-weight:700>/</span> (<span style=color:#a5d6ff>1.0</span> <span style=color:#ff7b72;font-weight:700>+</span> math.<span style=color:#d2a8ff;font-weight:700>Sqrt</span>(<span style=color:#a5d6ff>1.0</span><span style=color:#ff7b72;font-weight:700>-</span>e))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	J1 <span style=color:#ff7b72;font-weight:700>:=</span> (<span style=color:#a5d6ff>3</span><span style=color:#ff7b72;font-weight:700>*</span>e1<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>2</span> <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>27</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e1, <span style=color:#a5d6ff>3</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>32.0</span>)
</span></span><span style=display:flex><span>	J2 <span style=color:#ff7b72;font-weight:700>:=</span> (<span style=color:#a5d6ff>21</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e1, <span style=color:#a5d6ff>2</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>16</span> <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>55</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e1, <span style=color:#a5d6ff>4</span>)<span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>32.0</span>)
</span></span><span style=display:flex><span>	J3 <span style=color:#ff7b72;font-weight:700>:=</span> (<span style=color:#a5d6ff>151</span> <span style=color:#ff7b72;font-weight:700>*</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e1, <span style=color:#a5d6ff>3</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>96.0</span>)
</span></span><span style=display:flex><span>	J4 <span style=color:#ff7b72;font-weight:700>:=</span> (<span style=color:#a5d6ff>1097</span> <span style=color:#ff7b72;font-weight:700>*</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(e1, <span style=color:#a5d6ff>4</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>512.0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	fp <span style=color:#ff7b72;font-weight:700>:=</span> mu <span style=color:#ff7b72;font-weight:700>+</span> J1<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(<span style=color:#a5d6ff>2</span><span style=color:#ff7b72;font-weight:700>*</span>mu) <span style=color:#ff7b72;font-weight:700>+</span> J2<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(<span style=color:#a5d6ff>4</span><span style=color:#ff7b72;font-weight:700>*</span>mu) <span style=color:#ff7b72;font-weight:700>+</span> J3<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(<span style=color:#a5d6ff>6</span><span style=color:#ff7b72;font-weight:700>*</span>mu) <span style=color:#ff7b72;font-weight:700>+</span> J4<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(<span style=color:#a5d6ff>8</span><span style=color:#ff7b72;font-weight:700>*</span>mu)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8b949e;font-style:italic>// Calculate Latitude and Longitude</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	C1 <span style=color:#ff7b72;font-weight:700>:=</span> e2 <span style=color:#ff7b72;font-weight:700>*</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(math.<span style=color:#d2a8ff;font-weight:700>Cos</span>(fp), <span style=color:#a5d6ff>2</span>)
</span></span><span style=display:flex><span>	T1 <span style=color:#ff7b72;font-weight:700>:=</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(math.<span style=color:#d2a8ff;font-weight:700>Tan</span>(fp), <span style=color:#a5d6ff>2</span>)
</span></span><span style=display:flex><span>	R1 <span style=color:#ff7b72;font-weight:700>:=</span> a <span style=color:#ff7b72;font-weight:700>*</span> (<span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>-</span> e) <span style=color:#ff7b72;font-weight:700>/</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>((<span style=color:#a5d6ff>1</span><span style=color:#ff7b72;font-weight:700>-</span>e<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(fp), <span style=color:#a5d6ff>2</span>)), (<span style=color:#a5d6ff>3.0</span><span style=color:#ff7b72;font-weight:700>/</span><span style=color:#a5d6ff>2.0</span>))
</span></span><span style=display:flex><span>	N1 <span style=color:#ff7b72;font-weight:700>:=</span> a <span style=color:#ff7b72;font-weight:700>/</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>((<span style=color:#a5d6ff>1</span><span style=color:#ff7b72;font-weight:700>-</span>e<span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(math.<span style=color:#d2a8ff;font-weight:700>Sin</span>(fp), <span style=color:#a5d6ff>2</span>)), <span style=color:#a5d6ff>0.5</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	D <span style=color:#ff7b72;font-weight:700>:=</span> x <span style=color:#ff7b72;font-weight:700>/</span> (N1 <span style=color:#ff7b72;font-weight:700>*</span> k0)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8b949e;font-style:italic>// 計算緯度</span>
</span></span><span style=display:flex><span>	Q1 <span style=color:#ff7b72;font-weight:700>:=</span> N1 <span style=color:#ff7b72;font-weight:700>*</span> math.<span style=color:#d2a8ff;font-weight:700>Tan</span>(fp) <span style=color:#ff7b72;font-weight:700>/</span> R1
</span></span><span style=display:flex><span>	Q2 <span style=color:#ff7b72;font-weight:700>:=</span> (math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(D, <span style=color:#a5d6ff>2</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2.0</span>)
</span></span><span style=display:flex><span>	Q3 <span style=color:#ff7b72;font-weight:700>:=</span> (<span style=color:#a5d6ff>5</span> <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>3</span><span style=color:#ff7b72;font-weight:700>*</span>T1 <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>10</span><span style=color:#ff7b72;font-weight:700>*</span>C1 <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>4</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(C1, <span style=color:#a5d6ff>2</span>) <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>9</span><span style=color:#ff7b72;font-weight:700>*</span>e2) <span style=color:#ff7b72;font-weight:700>*</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(D, <span style=color:#a5d6ff>4</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>24.0</span>
</span></span><span style=display:flex><span>	Q4 <span style=color:#ff7b72;font-weight:700>:=</span> (<span style=color:#a5d6ff>61</span> <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>90</span><span style=color:#ff7b72;font-weight:700>*</span>T1 <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>298</span><span style=color:#ff7b72;font-weight:700>*</span>C1 <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>45</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(T1, <span style=color:#a5d6ff>2</span>) <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>3</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(C1, <span style=color:#a5d6ff>2</span>) <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>252</span><span style=color:#ff7b72;font-weight:700>*</span>e2) <span style=color:#ff7b72;font-weight:700>*</span>
</span></span><span style=display:flex><span>			 math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(D, <span style=color:#a5d6ff>6</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>720.0</span>
</span></span><span style=display:flex><span>	lat = fp <span style=color:#ff7b72;font-weight:700>-</span> Q1<span style=color:#ff7b72;font-weight:700>*</span>(Q2<span style=color:#ff7b72;font-weight:700>-</span>Q3<span style=color:#ff7b72;font-weight:700>+</span>Q4)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8b949e;font-style:italic>// 計算經度</span>
</span></span><span style=display:flex><span>	Q5 <span style=color:#ff7b72;font-weight:700>:=</span> D
</span></span><span style=display:flex><span>	Q6 <span style=color:#ff7b72;font-weight:700>:=</span> (<span style=color:#a5d6ff>1</span> <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>2</span><span style=color:#ff7b72;font-weight:700>*</span>T1 <span style=color:#ff7b72;font-weight:700>+</span> C1) <span style=color:#ff7b72;font-weight:700>*</span> math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(D, <span style=color:#a5d6ff>3</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>6</span>
</span></span><span style=display:flex><span>	Q7 <span style=color:#ff7b72;font-weight:700>:=</span> (<span style=color:#a5d6ff>5</span> <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>2</span><span style=color:#ff7b72;font-weight:700>*</span>C1 <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>28</span><span style=color:#ff7b72;font-weight:700>*</span>T1 <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>3</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(C1, <span style=color:#a5d6ff>2</span>) <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>8</span><span style=color:#ff7b72;font-weight:700>*</span>e2 <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>24</span><span style=color:#ff7b72;font-weight:700>*</span>math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(T1, <span style=color:#a5d6ff>2</span>)) <span style=color:#ff7b72;font-weight:700>*</span>
</span></span><span style=display:flex><span>			math.<span style=color:#d2a8ff;font-weight:700>Pow</span>(D, <span style=color:#a5d6ff>5</span>) <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>120.0</span>
</span></span><span style=display:flex><span>	lon = lon0 <span style=color:#ff7b72;font-weight:700>+</span> (Q5<span style=color:#ff7b72;font-weight:700>-</span>Q6<span style=color:#ff7b72;font-weight:700>+</span>Q7)<span style=color:#ff7b72;font-weight:700>/</span>math.<span style=color:#d2a8ff;font-weight:700>Cos</span>(fp)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	lat = (lat <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>180</span>) <span style=color:#ff7b72;font-weight:700>/</span> math.Pi <span style=color:#8b949e;font-style:italic>//緯</span>
</span></span><span style=display:flex><span>	lon = (lon <span style=color:#ff7b72;font-weight:700>*</span> <span style=color:#a5d6ff>180</span>) <span style=color:#ff7b72;font-weight:700>/</span> math.Pi <span style=color:#8b949e;font-style:italic>//經</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>TWD672TWD97</span>(x, y <span style=color:#ff7b72>float64</span>) (x_97, y_97 <span style=color:#ff7b72>float64</span>) {
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>const</span> A <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>0.00001549</span>
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>const</span> B <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>0.000006521</span>
</span></span><span style=display:flex><span>	x_97 = x <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>807.8</span> <span style=color:#ff7b72;font-weight:700>+</span> A<span style=color:#ff7b72;font-weight:700>*</span>x <span style=color:#ff7b72;font-weight:700>+</span> B<span style=color:#ff7b72;font-weight:700>*</span>y
</span></span><span style=display:flex><span>	y_97 = y <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>248.6</span> <span style=color:#ff7b72;font-weight:700>+</span> A<span style=color:#ff7b72;font-weight:700>*</span>y <span style=color:#ff7b72;font-weight:700>+</span> B<span style=color:#ff7b72;font-weight:700>*</span>x
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>TWD972TWD67</span>(x, y <span style=color:#ff7b72>float64</span>) (x_67, y_67 <span style=color:#ff7b72>float64</span>) {
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>const</span> A <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>0.00001549</span>
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>const</span> B <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>0.000006521</span>
</span></span><span style=display:flex><span>	x_67 = x <span style=color:#ff7b72;font-weight:700>-</span> <span style=color:#a5d6ff>807.8</span> <span style=color:#ff7b72;font-weight:700>-</span> A<span style=color:#ff7b72;font-weight:700>*</span>x <span style=color:#ff7b72;font-weight:700>-</span> B<span style=color:#ff7b72;font-weight:700>*</span>y
</span></span><span style=display:flex><span>	y_67 = y <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>248.6</span> <span style=color:#ff7b72;font-weight:700>-</span> A<span style=color:#ff7b72;font-weight:700>*</span>y <span style=color:#ff7b72;font-weight:700>-</span> B<span style=color:#ff7b72;font-weight:700>*</span>x
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>return</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// References:</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// https://www.sunriver.com.tw/taiwanmap/grid_tm2_convert.php</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>const</span> x_67 <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>247342</span>
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>const</span> y_67 <span style=color:#ff7b72>float64</span> = <span style=color:#a5d6ff>2652336</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	x_97, y_97 <span style=color:#ff7b72;font-weight:700>:=</span> <span style=color:#d2a8ff;font-weight:700>TWD672TWD97</span>(x_67, y_67)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	fmt.<span style=color:#d2a8ff;font-weight:700>Printf</span>(<span style=color:#a5d6ff>&#34;TWD67:\n&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#d2a8ff;font-weight:700>Printf</span>(<span style=color:#a5d6ff>&#34;\t%f, %f\n&#34;</span>, x_67, y_67)
</span></span><span style=display:flex><span>	fmt.<span style=color:#d2a8ff;font-weight:700>Printf</span>(<span style=color:#a5d6ff>&#34;TWD97:\n&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#d2a8ff;font-weight:700>Printf</span>(<span style=color:#a5d6ff>&#34;\t%f, %f\n&#34;</span>, x_97, y_97)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	lon, lat <span style=color:#ff7b72;font-weight:700>:=</span> <span style=color:#d2a8ff;font-weight:700>TM22LonLat</span>(x_97, y_97)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	fmt.<span style=color:#d2a8ff;font-weight:700>Printf</span>(<span style=color:#a5d6ff>&#34;LonLat:\n&#34;</span>)
</span></span><span style=display:flex><span>	fmt.<span style=color:#d2a8ff;font-weight:700>Printf</span>(<span style=color:#a5d6ff>&#34;\t%f, %f\n&#34;</span>, lon, lat)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>/* 
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>Output:
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>TWD67:
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>	247342.000000, 2652336.000000
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>TWD97:
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>	248170.927211, 2652130.097602
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>LonLat:
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>	120.982026, 23.973876
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic>*/</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=小結>小結</h2><p>台灣使用的座標表示法，想不到裡面有這麼多歷史可以探究。筆者看完許多資料後，推薦有興趣的同學可以看一看 <a href=https://wiki.osgeo.org/wiki/Taiwan_datums>Taiwan datums</a> ，裡面干貨滿滿 !!
另外，本最後的實作主要是參考 <a href=http://sask989.blogspot.com/2012/05/wgs84totwd97.html>大胖子與小個子的部落格</a> 的程式，並以 Go 改寫。
感謝前人的整理與貢獻!</p><h2 id=參考連結>參考連結</h2><ul><li><a href=http://www.sunriver.com.tw/grid_tm2.htm>大地座標系統漫談</a></li><li><a href=https://wiki.osgeo.org/wiki/Taiwan_datums>Taiwan datums</a></li><li><a href=http://sask989.blogspot.com/2012/05/wgs84totwd97.html>大胖子與小個子的部落格</a></li><li><a href=http://gis.thl.ncku.edu.tw/coordtrans/coordtrans.aspx>國立成功大學水工試驗所</a></li><li><a href=http://140.121.160.124/GEO/991-4c.pdf>坐標系統</a></li></ul></div><footer class=post-footer><div class=post-nav><a href=https://e61983.github.io/posts/stm32mp-with-yocto-4/ class=post-nav-prev><span class=nav-label>上一篇</span>
<span class=nav-title>在 STM32MP1 上使用 Yocto 建置 Linux 系統 4</span>
</a><a href=https://e61983.github.io/posts/gps-module/ class=post-nav-next><span class=nav-label>下一篇</span>
<span class=nav-title>NEO M8N GPS模組</span></a></div></footer></article><aside class=post-sidebar><nav class="toc desktop-toc"><h3 class=toc-title>目錄</h3><nav id=TableOfContents><ul><li><a href=#前言>前言</a></li><li><a href=#主要內容>主要內容</a><ul><li></li><li><a href=#座標轉換>座標轉換</a></li></ul></li><li><a href=#小結>小結</a></li><li><a href=#參考連結>參考連結</a></li></ul></nav></nav></aside></div></div><button id=backToTop class=back-to-top aria-label=回到頂部>
<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg></button></main><footer class=footer><div class=container><div class=footer-content><div class=social-links><a href=https://github.com/e61983 target=_blank rel=noopener class=social-link><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.374.0.0 5.373.0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931.0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176.0.0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221.0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
GitHub</a></div><div class=copyright><p>&copy; 2025 Yuan. All rights reserved.</p><p>Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a> & Yuan Theme</p></div></div></div></footer></div><script src=https://e61983.github.io/yuan/js/main.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js></script><script>hljs.highlightAll()</script></body></html>