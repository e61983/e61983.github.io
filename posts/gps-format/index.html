<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在台灣常見的地理位置表示方式 - Yuan のノート</title><meta name=description content="心之所至，隨意亂書"><meta name=keywords content="golang,embedded,linux,backend,programming"><meta name=author content="Yuan"><meta property="og:title" content="在台灣常見的地理位置表示方式 - Yuan のノート"><meta property="og:description" content="心之所至，隨意亂書"><meta property="og:type" content="article"><meta property="og:url" content="https://e61983.github.io/posts/gps-format/"><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=icon type=image/x-icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/favicon.svg><meta name=theme-color content="#0d1117"><link rel=stylesheet href=https://e61983.github.io/yuan/css/main.min.css><link rel=stylesheet href=https://e61983.github.io/yuan/css/chroma.min.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel=stylesheet></head><body class=theme-dark><div class=layout><header class=header><div class=container><div class=header-content><div class=header-brand><a href=https://e61983.github.io/ class=brand-link><span class=brand-text>Yuan のノート</span></a><p class=brand-subtitle>心之所至，隨意亂書</p></div><nav class=nav><ul class=nav-list><li class=nav-item><a href=/ class=nav-link>首頁</a></li><li class=nav-item><a href=/posts/ class=nav-link>文章</a></li><li class=nav-item><a href=/categories/ class=nav-link>分類</a></li><li class=nav-item><a href=/tags/ class=nav-link>標籤</a></li><li class=nav-item><a href=/archive/ class=nav-link>歸檔</a></li></ul></nav><button class=mobile-menu-toggle aria-label="Toggle menu">
<span class=hamburger></span>
<span class=hamburger></span>
<span class=hamburger></span></button></div></div></header><main class=main><div class=container><div class=post-layout><article class=post><header class=post-header><h1 class=post-title>在台灣常見的地理位置表示方式</h1><div class=post-meta><time class=post-date datetime=2021-08-19T14:22:28+08:00>2021年08月19日
</time><span class=reading-time>4 分鐘閱讀</span>
<span class=word-count>807 字</span>
<span class=post-author>by Yuan</span></div><div class=post-tags><a href=/tags/geo class=tag>geo</a>
<a href=/tags/gps class=tag>gps</a>
<a href=/tags/go class=tag>go</a></div><div class=post-categories><a href=/categories/gis class=category>gis</a></div></header><div class=mobile-toc-toggle><button class=toc-toggle-btn aria-label=顯示/隱藏目錄>
<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"/></svg>
目錄</button><nav class=mobile-toc><h3 class=toc-title>目錄</h3><nav id=TableOfContents><ul><li><a href=#前言>前言</a></li><li><a href=#主要內容>主要內容</a><ul><li></li><li><a href=#座標轉換>座標轉換</a></li></ul></li><li><a href=#小結>小結</a></li><li><a href=#參考連結>參考連結</a></li></ul></nav></nav></div><div class=post-content><h2 id=前言>前言</h2><p>最近開始接觸到跟 GPS 有關的東西，想說順便把地理定位相關的資料整理起來。所以這一篇就這樣誕生啦。</p><h2 id=主要內容>主要內容</h2><p>地表上任何一個地理位置都可以用<strong>大地基準 ( Datum )</strong> + <strong>座標格式 ( Format )</strong> 來表示。
在台灣我們常聽到的 <code>TWD67</code>、<code>TWD97</code>、<code>WGS84</code> 就是大地基準。而<code>大地座標</code>、<code>六度分帶(UTM)</code>、<code>二度分帶(TM2)</code> 就是座標格式。</p><h4 id=大地基準>大地基準</h4><ul><li>TWD67
平面基準為1967年之參考橢球體(GRS67)，以南投埔里之虎子山為大地基準。
橢球參數:長軸 a = 6378160m，扁率 $f = 298.25$</li><li>TWD97
平面基準為1980年之參考橢球體(GRS80)，以八個衛星追蹤站為基準。
橢球參數:長軸 a = 6378137m，扁率 $f = 298.257222101$</li><li>WGS84
世界大地測量系統（英語：World Geodetic System, WGS），1984年的版本，也稱為 EPSG:4326。透過遍布世界的衛星觀測站觀測到的坐標建立，其精度為1~ 2m。
地球的質量中心為中心點，加上世界各地的1500個地理座標參考點。
橢球參數:長軸 a = 6378137m，扁率 $f = 298.257223563$</li></ul><figure><img src=/posts/gps-format/images/ellipsoid.png alt=參考橢球體 width=240px><figcaption><p>參考橢球體</p></figcaption></figure><p>$ a: 長軸 $
$ b: 短軸 $
$ f: 扁率 = \frac{a-b}{a} $</p><h4 id=座標格式>座標格式</h4><ul><li><p>大地座標
經、緯度座標。以<code>度</code>、<code>分</code>、<code>秒</code>表示。(<strong>僅能表示位置與方向，無法直接表示距離</strong>)</p><figure><img src=/posts/gps-format/images/ECEF_ENU_Longitude_Latitude_relationships.svg.png alt=https://en.wikipedia.org/wiki/Local_tangent_plane_coordinates width=240px><figcaption><p><a href=https://en.wikipedia.org/wiki/Local_tangent_plane_coordinates>https://en.wikipedia.org/wiki/Local_tangent_plane_coordinates</a></p></figcaption></figure></li><li><p>平面座標 (<strong>可以表示距離與面績</strong>)<figure><img src=/posts/gps-format/images/Universal_Transverse_Mercator_zones.svg.png alt=https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system><figcaption><p><a href=https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system>https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system</a></p></figcaption></figure></p><ul><li><p>六度分帶 ( Universal Transverse Mercator, UTM)<figure><img src=/posts/gps-format/images/utm.png alt=橫麥卡托六度分帶><figcaption><p>橫麥卡托六度分帶</p></figcaption></figure></p></li><li><p>二度分帶 (TM2)<figure><img src=/posts/gps-format/images/tm2.png alt=橫麥卡托二度分帶><figcaption><p>橫麥卡托二度分帶</p></figcaption></figure></p></li></ul></li></ul><h3 id=座標轉換>座標轉換</h3><h4 id=twd97-轉-twd67-平面四參數轉換僅適用台灣本島最大誤差約2公尺>TWD97 轉 TWD67 (平面四參數轉換:僅適用台灣本島，最大誤差約2公尺)</h4><p>$X_{67} =X_{97} - 807.8 - AX_{97} - BY_{97}$
$Y_{67} = Y_{97} + 248.6 - AY_{97} - BX_{97}$
$A = 0.00001549$
$B = 0.000006521$</p><h4 id=twd67-轉-twd97-平面四參數轉換僅適用台灣本島最大誤差約2公尺>TWD67 轉 TWD97 (平面四參數轉換:僅適用台灣本島，最大誤差約2公尺)</h4><p>$X_{97} = X_{67} + 807.8 + AX_{67} + BY_{67}$
$Y_{97} =Y_{67} - 248.6 + AY_{67} + BX_{67}$
$A = 0.00001549$
$B = 0.000006521$</p><h4 id=實作>實作</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=ln>  1</span><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=ln>  2</span><span class=cl>
</span></span><span class=line><span class=ln>  3</span><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=ln>  4</span><span class=cl>	<span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=ln>  5</span><span class=cl>	<span class=s>&#34;math&#34;</span>
</span></span><span class=line><span class=ln>  6</span><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=ln>  7</span><span class=cl>
</span></span><span class=line><span class=ln>  8</span><span class=cl><span class=kd>const</span> <span class=p>(</span>
</span></span><span class=line><span class=ln>  9</span><span class=cl>	<span class=nx>a</span>    <span class=kt>float64</span> <span class=p>=</span> <span class=mf>6378137.0</span>
</span></span><span class=line><span class=ln> 10</span><span class=cl>	<span class=nx>b</span>    <span class=kt>float64</span> <span class=p>=</span> <span class=mf>6356752.3142451</span>
</span></span><span class=line><span class=ln> 11</span><span class=cl>	<span class=nx>lon0</span> <span class=kt>float64</span> <span class=p>=</span> <span class=mi>121</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span> <span class=o>/</span> <span class=mi>180</span>
</span></span><span class=line><span class=ln> 12</span><span class=cl>	<span class=nx>k0</span>   <span class=kt>float64</span> <span class=p>=</span> <span class=mf>0.9999</span>
</span></span><span class=line><span class=ln> 13</span><span class=cl>	<span class=nx>dx</span>   <span class=kt>float64</span> <span class=p>=</span> <span class=mi>250000</span>
</span></span><span class=line><span class=ln> 14</span><span class=cl>	<span class=nx>dy</span>   <span class=kt>float64</span> <span class=p>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=ln> 15</span><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=ln> 16</span><span class=cl>
</span></span><span class=line><span class=ln> 17</span><span class=cl><span class=kd>var</span> <span class=p>(</span>
</span></span><span class=line><span class=ln> 18</span><span class=cl>	<span class=nx>e</span>  <span class=kt>float64</span> <span class=p>=</span> <span class=mi>1</span> <span class=o>-</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>b</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>/</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 19</span><span class=cl>	<span class=nx>e2</span> <span class=kt>float64</span> <span class=p>=</span> <span class=p>(</span><span class=mi>1</span> <span class=o>-</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>b</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>/</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span> <span class=o>/</span> <span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>b</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>/</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 20</span><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=ln> 21</span><span class=cl>
</span></span><span class=line><span class=ln> 22</span><span class=cl><span class=kd>func</span> <span class=nf>LonLat2TM2</span><span class=p>(</span><span class=nx>lon</span><span class=p>,</span> <span class=nx>lat</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 23</span><span class=cl>
</span></span><span class=line><span class=ln> 24</span><span class=cl>	<span class=nx>lon</span> <span class=p>=</span> <span class=p>(</span><span class=nx>lon</span> <span class=o>-</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Floor</span><span class=p>((</span><span class=nx>lon</span><span class=o>+</span><span class=mi>180</span><span class=p>)</span><span class=o>/</span><span class=mi>360</span><span class=p>)</span><span class=o>*</span><span class=mi>360</span><span class=p>)</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span> <span class=o>/</span> <span class=mi>180</span>
</span></span><span class=line><span class=ln> 25</span><span class=cl>	<span class=nx>lat</span> <span class=p>=</span> <span class=nx>lat</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span> <span class=o>/</span> <span class=mi>180</span>
</span></span><span class=line><span class=ln> 26</span><span class=cl>
</span></span><span class=line><span class=ln> 27</span><span class=cl>	<span class=nx>V</span> <span class=o>:=</span> <span class=nx>a</span> <span class=o>/</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Sqrt</span><span class=p>(</span><span class=mi>1</span><span class=o>-</span><span class=nx>e</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=nx>lat</span><span class=p>),</span> <span class=mi>2</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 28</span><span class=cl>	<span class=nx>T</span> <span class=o>:=</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Tan</span><span class=p>(</span><span class=nx>lat</span><span class=p>),</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 29</span><span class=cl>	<span class=nx>C</span> <span class=o>:=</span> <span class=nx>e2</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Cos</span><span class=p>(</span><span class=nx>lat</span><span class=p>),</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 30</span><span class=cl>	<span class=nx>A</span> <span class=o>:=</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Cos</span><span class=p>(</span><span class=nx>lat</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=nx>lon</span> <span class=o>-</span> <span class=nx>lon0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 31</span><span class=cl>	<span class=nx>M</span> <span class=o>:=</span> <span class=nx>a</span> <span class=o>*</span> <span class=p>((</span><span class=mf>1.0</span><span class=o>-</span><span class=nx>e</span><span class=o>/</span><span class=mf>4.0</span><span class=o>-</span><span class=mf>3.0</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>/</span><span class=mf>64.0</span><span class=o>-</span><span class=mf>5.0</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>/</span><span class=mf>256.0</span><span class=p>)</span><span class=o>*</span><span class=nx>lat</span> <span class=o>-</span>
</span></span><span class=line><span class=ln> 32</span><span class=cl>		<span class=p>(</span><span class=mf>3.0</span><span class=o>*</span><span class=nx>e</span><span class=o>/</span><span class=mf>8.0</span><span class=o>+</span><span class=mf>3.0</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>/</span><span class=mf>32.0</span><span class=o>+</span><span class=mf>45.0</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>/</span><span class=mf>1024.0</span><span class=p>)</span><span class=o>*</span>
</span></span><span class=line><span class=ln> 33</span><span class=cl>		<span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=mf>2.0</span><span class=o>*</span><span class=nx>lat</span><span class=p>)</span> <span class=o>+</span> <span class=p>(</span><span class=mf>15.0</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>/</span><span class=mf>256.0</span><span class=o>+</span><span class=mf>45.0</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>/</span><span class=mf>1024.0</span><span class=p>)</span><span class=o>*</span>
</span></span><span class=line><span class=ln> 34</span><span class=cl>		<span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=mf>4.0</span><span class=o>*</span><span class=nx>lat</span><span class=p>)</span> <span class=o>-</span> <span class=p>(</span><span class=mf>35.0</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>/</span><span class=mf>3072.0</span><span class=p>)</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=mf>6.0</span><span class=o>*</span><span class=nx>lat</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 35</span><span class=cl>
</span></span><span class=line><span class=ln> 36</span><span class=cl>	<span class=nx>x</span> <span class=p>=</span> <span class=nx>dx</span> <span class=o>+</span> 
</span></span><span class=line><span class=ln> 37</span><span class=cl>		<span class=nx>k0</span><span class=o>*</span><span class=nx>V</span><span class=o>*</span><span class=p>(</span><span class=nx>A</span><span class=o>+</span><span class=p>(</span><span class=mi>1</span><span class=o>-</span><span class=nx>T</span><span class=o>+</span><span class=nx>C</span><span class=p>)</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>A</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>/</span><span class=mi>6</span><span class=o>+</span>
</span></span><span class=line><span class=ln> 38</span><span class=cl>		<span class=p>(</span><span class=mi>5</span><span class=o>-</span><span class=mi>18</span><span class=o>*</span><span class=nx>T</span><span class=o>+</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>T</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>+</span><span class=mi>72</span><span class=o>*</span><span class=nx>C</span><span class=o>-</span><span class=mi>58</span><span class=o>*</span><span class=nx>e2</span><span class=p>)</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>A</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span><span class=o>/</span><span class=mi>120</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 39</span><span class=cl>
</span></span><span class=line><span class=ln> 40</span><span class=cl>	<span class=nx>y</span> <span class=p>=</span> <span class=nx>dy</span> <span class=o>+</span> 
</span></span><span class=line><span class=ln> 41</span><span class=cl>		<span class=nx>k0</span><span class=o>*</span><span class=p>(</span><span class=nx>M</span><span class=o>+</span><span class=nx>V</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Tan</span><span class=p>(</span><span class=nx>lat</span><span class=p>)</span><span class=o>*</span><span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>A</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>/</span><span class=mi>2</span><span class=o>+</span><span class=p>(</span><span class=mi>5</span><span class=o>-</span><span class=nx>T</span><span class=o>+</span><span class=mi>9</span><span class=o>*</span><span class=nx>C</span><span class=o>+</span><span class=mi>4</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>C</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>A</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span><span class=o>/</span><span class=mi>24</span><span class=o>+</span>
</span></span><span class=line><span class=ln> 42</span><span class=cl>		<span class=p>(</span><span class=mi>61</span><span class=o>-</span><span class=mi>58</span><span class=o>*</span><span class=nx>T</span><span class=o>+</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>T</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>+</span><span class=mi>600</span><span class=o>*</span><span class=nx>C</span><span class=o>-</span><span class=mi>330</span><span class=o>*</span><span class=nx>e2</span><span class=p>)</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>A</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span><span class=o>/</span><span class=mi>720</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 43</span><span class=cl>	<span class=k>return</span>
</span></span><span class=line><span class=ln> 44</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln> 45</span><span class=cl>
</span></span><span class=line><span class=ln> 46</span><span class=cl><span class=kd>func</span> <span class=nf>TM22LonLat</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>(</span><span class=nx>lon</span><span class=p>,</span> <span class=nx>lat</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 47</span><span class=cl>	<span class=nx>x</span> <span class=o>-=</span> <span class=nx>dx</span>
</span></span><span class=line><span class=ln> 48</span><span class=cl>	<span class=nx>y</span> <span class=o>-=</span> <span class=nx>dy</span>
</span></span><span class=line><span class=ln> 49</span><span class=cl>
</span></span><span class=line><span class=ln> 50</span><span class=cl>	<span class=c1>// Calculate the Meridional Arc</span>
</span></span><span class=line><span class=ln> 51</span><span class=cl>	<span class=nx>M</span> <span class=o>:=</span> <span class=nx>y</span> <span class=o>/</span> <span class=nx>k0</span>
</span></span><span class=line><span class=ln> 52</span><span class=cl>
</span></span><span class=line><span class=ln> 53</span><span class=cl>	<span class=c1>// Calculate Footprint Latitude</span>
</span></span><span class=line><span class=ln> 54</span><span class=cl>	<span class=nx>mu</span> <span class=o>:=</span> <span class=nx>M</span> <span class=o>/</span> <span class=p>(</span><span class=nx>a</span> <span class=o>*</span> <span class=p>(</span><span class=mf>1.0</span> <span class=o>-</span> <span class=nx>e</span><span class=o>/</span><span class=mf>4.0</span> <span class=o>-</span> <span class=mi>3</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>/</span><span class=mf>64.0</span> <span class=o>-</span> <span class=mi>5</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>/</span><span class=mf>256.0</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 55</span><span class=cl>
</span></span><span class=line><span class=ln> 56</span><span class=cl>	<span class=nx>e1</span> <span class=o>:=</span> <span class=p>(</span><span class=mf>1.0</span> <span class=o>-</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Sqrt</span><span class=p>(</span><span class=mf>1.0</span><span class=o>-</span><span class=nx>e</span><span class=p>))</span> <span class=o>/</span> <span class=p>(</span><span class=mf>1.0</span> <span class=o>+</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Sqrt</span><span class=p>(</span><span class=mf>1.0</span><span class=o>-</span><span class=nx>e</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 57</span><span class=cl>
</span></span><span class=line><span class=ln> 58</span><span class=cl>	<span class=nx>J1</span> <span class=o>:=</span> <span class=p>(</span><span class=mi>3</span><span class=o>*</span><span class=nx>e1</span><span class=o>/</span><span class=mi>2</span> <span class=o>-</span> <span class=mi>27</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e1</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>/</span><span class=mf>32.0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 59</span><span class=cl>	<span class=nx>J2</span> <span class=o>:=</span> <span class=p>(</span><span class=mi>21</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>/</span><span class=mi>16</span> <span class=o>-</span> <span class=mi>55</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e1</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span><span class=o>/</span><span class=mf>32.0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 60</span><span class=cl>	<span class=nx>J3</span> <span class=o>:=</span> <span class=p>(</span><span class=mi>151</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e1</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=o>/</span> <span class=mf>96.0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 61</span><span class=cl>	<span class=nx>J4</span> <span class=o>:=</span> <span class=p>(</span><span class=mi>1097</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>e1</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span> <span class=o>/</span> <span class=mf>512.0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 62</span><span class=cl>
</span></span><span class=line><span class=ln> 63</span><span class=cl>	<span class=nx>fp</span> <span class=o>:=</span> <span class=nx>mu</span> <span class=o>+</span> <span class=nx>J1</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=mi>2</span><span class=o>*</span><span class=nx>mu</span><span class=p>)</span> <span class=o>+</span> <span class=nx>J2</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=mi>4</span><span class=o>*</span><span class=nx>mu</span><span class=p>)</span> <span class=o>+</span> <span class=nx>J3</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=mi>6</span><span class=o>*</span><span class=nx>mu</span><span class=p>)</span> <span class=o>+</span> <span class=nx>J4</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=mi>8</span><span class=o>*</span><span class=nx>mu</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 64</span><span class=cl>
</span></span><span class=line><span class=ln> 65</span><span class=cl>	<span class=c1>// Calculate Latitude and Longitude</span>
</span></span><span class=line><span class=ln> 66</span><span class=cl>
</span></span><span class=line><span class=ln> 67</span><span class=cl>	<span class=nx>C1</span> <span class=o>:=</span> <span class=nx>e2</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Cos</span><span class=p>(</span><span class=nx>fp</span><span class=p>),</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 68</span><span class=cl>	<span class=nx>T1</span> <span class=o>:=</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Tan</span><span class=p>(</span><span class=nx>fp</span><span class=p>),</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 69</span><span class=cl>	<span class=nx>R1</span> <span class=o>:=</span> <span class=nx>a</span> <span class=o>*</span> <span class=p>(</span><span class=mi>1</span> <span class=o>-</span> <span class=nx>e</span><span class=p>)</span> <span class=o>/</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>((</span><span class=mi>1</span><span class=o>-</span><span class=nx>e</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=nx>fp</span><span class=p>),</span> <span class=mi>2</span><span class=p>)),</span> <span class=p>(</span><span class=mf>3.0</span><span class=o>/</span><span class=mf>2.0</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 70</span><span class=cl>	<span class=nx>N1</span> <span class=o>:=</span> <span class=nx>a</span> <span class=o>/</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>((</span><span class=mi>1</span><span class=o>-</span><span class=nx>e</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Sin</span><span class=p>(</span><span class=nx>fp</span><span class=p>),</span> <span class=mi>2</span><span class=p>)),</span> <span class=mf>0.5</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 71</span><span class=cl>
</span></span><span class=line><span class=ln> 72</span><span class=cl>	<span class=nx>D</span> <span class=o>:=</span> <span class=nx>x</span> <span class=o>/</span> <span class=p>(</span><span class=nx>N1</span> <span class=o>*</span> <span class=nx>k0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 73</span><span class=cl>
</span></span><span class=line><span class=ln> 74</span><span class=cl>	<span class=c1>// 計算緯度</span>
</span></span><span class=line><span class=ln> 75</span><span class=cl>	<span class=nx>Q1</span> <span class=o>:=</span> <span class=nx>N1</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Tan</span><span class=p>(</span><span class=nx>fp</span><span class=p>)</span> <span class=o>/</span> <span class=nx>R1</span>
</span></span><span class=line><span class=ln> 76</span><span class=cl>	<span class=nx>Q2</span> <span class=o>:=</span> <span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>D</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>/</span> <span class=mf>2.0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 77</span><span class=cl>	<span class=nx>Q3</span> <span class=o>:=</span> <span class=p>(</span><span class=mi>5</span> <span class=o>+</span> <span class=mi>3</span><span class=o>*</span><span class=nx>T1</span> <span class=o>+</span> <span class=mi>10</span><span class=o>*</span><span class=nx>C1</span> <span class=o>-</span> <span class=mi>4</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>C1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>-</span> <span class=mi>9</span><span class=o>*</span><span class=nx>e2</span><span class=p>)</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>D</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span> <span class=o>/</span> <span class=mf>24.0</span>
</span></span><span class=line><span class=ln> 78</span><span class=cl>	<span class=nx>Q4</span> <span class=o>:=</span> <span class=p>(</span><span class=mi>61</span> <span class=o>+</span> <span class=mi>90</span><span class=o>*</span><span class=nx>T1</span> <span class=o>+</span> <span class=mi>298</span><span class=o>*</span><span class=nx>C1</span> <span class=o>+</span> <span class=mi>45</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>T1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>-</span> <span class=mi>3</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>C1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>-</span> <span class=mi>252</span><span class=o>*</span><span class=nx>e2</span><span class=p>)</span> <span class=o>*</span>
</span></span><span class=line><span class=ln> 79</span><span class=cl>			 <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>D</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span> <span class=o>/</span> <span class=mf>720.0</span>
</span></span><span class=line><span class=ln> 80</span><span class=cl>	<span class=nx>lat</span> <span class=p>=</span> <span class=nx>fp</span> <span class=o>-</span> <span class=nx>Q1</span><span class=o>*</span><span class=p>(</span><span class=nx>Q2</span><span class=o>-</span><span class=nx>Q3</span><span class=o>+</span><span class=nx>Q4</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 81</span><span class=cl>
</span></span><span class=line><span class=ln> 82</span><span class=cl>	<span class=c1>// 計算經度</span>
</span></span><span class=line><span class=ln> 83</span><span class=cl>	<span class=nx>Q5</span> <span class=o>:=</span> <span class=nx>D</span>
</span></span><span class=line><span class=ln> 84</span><span class=cl>	<span class=nx>Q6</span> <span class=o>:=</span> <span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=mi>2</span><span class=o>*</span><span class=nx>T1</span> <span class=o>+</span> <span class=nx>C1</span><span class=p>)</span> <span class=o>*</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>D</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=o>/</span> <span class=mi>6</span>
</span></span><span class=line><span class=ln> 85</span><span class=cl>	<span class=nx>Q7</span> <span class=o>:=</span> <span class=p>(</span><span class=mi>5</span> <span class=o>-</span> <span class=mi>2</span><span class=o>*</span><span class=nx>C1</span> <span class=o>+</span> <span class=mi>28</span><span class=o>*</span><span class=nx>T1</span> <span class=o>-</span> <span class=mi>3</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>C1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=mi>8</span><span class=o>*</span><span class=nx>e2</span> <span class=o>+</span> <span class=mi>24</span><span class=o>*</span><span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>T1</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span> <span class=o>*</span>
</span></span><span class=line><span class=ln> 86</span><span class=cl>			<span class=nx>math</span><span class=p>.</span><span class=nf>Pow</span><span class=p>(</span><span class=nx>D</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span> <span class=o>/</span> <span class=mf>120.0</span>
</span></span><span class=line><span class=ln> 87</span><span class=cl>	<span class=nx>lon</span> <span class=p>=</span> <span class=nx>lon0</span> <span class=o>+</span> <span class=p>(</span><span class=nx>Q5</span><span class=o>-</span><span class=nx>Q6</span><span class=o>+</span><span class=nx>Q7</span><span class=p>)</span><span class=o>/</span><span class=nx>math</span><span class=p>.</span><span class=nf>Cos</span><span class=p>(</span><span class=nx>fp</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 88</span><span class=cl>
</span></span><span class=line><span class=ln> 89</span><span class=cl>	<span class=nx>lat</span> <span class=p>=</span> <span class=p>(</span><span class=nx>lat</span> <span class=o>*</span> <span class=mi>180</span><span class=p>)</span> <span class=o>/</span> <span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span> <span class=c1>//緯</span>
</span></span><span class=line><span class=ln> 90</span><span class=cl>	<span class=nx>lon</span> <span class=p>=</span> <span class=p>(</span><span class=nx>lon</span> <span class=o>*</span> <span class=mi>180</span><span class=p>)</span> <span class=o>/</span> <span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span> <span class=c1>//經</span>
</span></span><span class=line><span class=ln> 91</span><span class=cl>
</span></span><span class=line><span class=ln> 92</span><span class=cl>	<span class=k>return</span>
</span></span><span class=line><span class=ln> 93</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln> 94</span><span class=cl>
</span></span><span class=line><span class=ln> 95</span><span class=cl><span class=kd>func</span> <span class=nf>TWD672TWD97</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>(</span><span class=nx>x_97</span><span class=p>,</span> <span class=nx>y_97</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 96</span><span class=cl>	<span class=kd>const</span> <span class=nx>A</span> <span class=kt>float64</span> <span class=p>=</span> <span class=mf>0.00001549</span>
</span></span><span class=line><span class=ln> 97</span><span class=cl>	<span class=kd>const</span> <span class=nx>B</span> <span class=kt>float64</span> <span class=p>=</span> <span class=mf>0.000006521</span>
</span></span><span class=line><span class=ln> 98</span><span class=cl>	<span class=nx>x_97</span> <span class=p>=</span> <span class=nx>x</span> <span class=o>+</span> <span class=mf>807.8</span> <span class=o>+</span> <span class=nx>A</span><span class=o>*</span><span class=nx>x</span> <span class=o>+</span> <span class=nx>B</span><span class=o>*</span><span class=nx>y</span>
</span></span><span class=line><span class=ln> 99</span><span class=cl>	<span class=nx>y_97</span> <span class=p>=</span> <span class=nx>y</span> <span class=o>-</span> <span class=mf>248.6</span> <span class=o>+</span> <span class=nx>A</span><span class=o>*</span><span class=nx>y</span> <span class=o>+</span> <span class=nx>B</span><span class=o>*</span><span class=nx>x</span>
</span></span><span class=line><span class=ln>100</span><span class=cl>	<span class=k>return</span>
</span></span><span class=line><span class=ln>101</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>102</span><span class=cl>
</span></span><span class=line><span class=ln>103</span><span class=cl><span class=kd>func</span> <span class=nf>TWD972TWD67</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>(</span><span class=nx>x_67</span><span class=p>,</span> <span class=nx>y_67</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>104</span><span class=cl>	<span class=kd>const</span> <span class=nx>A</span> <span class=kt>float64</span> <span class=p>=</span> <span class=mf>0.00001549</span>
</span></span><span class=line><span class=ln>105</span><span class=cl>	<span class=kd>const</span> <span class=nx>B</span> <span class=kt>float64</span> <span class=p>=</span> <span class=mf>0.000006521</span>
</span></span><span class=line><span class=ln>106</span><span class=cl>	<span class=nx>x_67</span> <span class=p>=</span> <span class=nx>x</span> <span class=o>-</span> <span class=mf>807.8</span> <span class=o>-</span> <span class=nx>A</span><span class=o>*</span><span class=nx>x</span> <span class=o>-</span> <span class=nx>B</span><span class=o>*</span><span class=nx>y</span>
</span></span><span class=line><span class=ln>107</span><span class=cl>	<span class=nx>y_67</span> <span class=p>=</span> <span class=nx>y</span> <span class=o>+</span> <span class=mf>248.6</span> <span class=o>-</span> <span class=nx>A</span><span class=o>*</span><span class=nx>y</span> <span class=o>-</span> <span class=nx>B</span><span class=o>*</span><span class=nx>x</span>
</span></span><span class=line><span class=ln>108</span><span class=cl>	<span class=k>return</span>
</span></span><span class=line><span class=ln>109</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>110</span><span class=cl>
</span></span><span class=line><span class=ln>111</span><span class=cl><span class=c1>// References:</span>
</span></span><span class=line><span class=ln>112</span><span class=cl><span class=c1>// https://www.sunriver.com.tw/taiwanmap/grid_tm2_convert.php</span>
</span></span><span class=line><span class=ln>113</span><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>114</span><span class=cl>	<span class=kd>const</span> <span class=nx>x_67</span> <span class=kt>float64</span> <span class=p>=</span> <span class=mi>247342</span>
</span></span><span class=line><span class=ln>115</span><span class=cl>	<span class=kd>const</span> <span class=nx>y_67</span> <span class=kt>float64</span> <span class=p>=</span> <span class=mi>2652336</span>
</span></span><span class=line><span class=ln>116</span><span class=cl>
</span></span><span class=line><span class=ln>117</span><span class=cl>	<span class=nx>x_97</span><span class=p>,</span> <span class=nx>y_97</span> <span class=o>:=</span> <span class=nf>TWD672TWD97</span><span class=p>(</span><span class=nx>x_67</span><span class=p>,</span> <span class=nx>y_67</span><span class=p>)</span>
</span></span><span class=line><span class=ln>118</span><span class=cl>
</span></span><span class=line><span class=ln>119</span><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;TWD67:\n&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>120</span><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;\t%f, %f\n&#34;</span><span class=p>,</span> <span class=nx>x_67</span><span class=p>,</span> <span class=nx>y_67</span><span class=p>)</span>
</span></span><span class=line><span class=ln>121</span><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;TWD97:\n&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>122</span><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;\t%f, %f\n&#34;</span><span class=p>,</span> <span class=nx>x_97</span><span class=p>,</span> <span class=nx>y_97</span><span class=p>)</span>
</span></span><span class=line><span class=ln>123</span><span class=cl>
</span></span><span class=line><span class=ln>124</span><span class=cl>	<span class=nx>lon</span><span class=p>,</span> <span class=nx>lat</span> <span class=o>:=</span> <span class=nf>TM22LonLat</span><span class=p>(</span><span class=nx>x_97</span><span class=p>,</span> <span class=nx>y_97</span><span class=p>)</span>
</span></span><span class=line><span class=ln>125</span><span class=cl>
</span></span><span class=line><span class=ln>126</span><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;LonLat:\n&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>127</span><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;\t%f, %f\n&#34;</span><span class=p>,</span> <span class=nx>lon</span><span class=p>,</span> <span class=nx>lat</span><span class=p>)</span>
</span></span><span class=line><span class=ln>128</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>129</span><span class=cl>
</span></span><span class=line><span class=ln>130</span><span class=cl><span class=cm>/* 
</span></span></span><span class=line><span class=ln>131</span><span class=cl><span class=cm>
</span></span></span><span class=line><span class=ln>132</span><span class=cl><span class=cm>Output:
</span></span></span><span class=line><span class=ln>133</span><span class=cl><span class=cm>
</span></span></span><span class=line><span class=ln>134</span><span class=cl><span class=cm>TWD67:
</span></span></span><span class=line><span class=ln>135</span><span class=cl><span class=cm>	247342.000000, 2652336.000000
</span></span></span><span class=line><span class=ln>136</span><span class=cl><span class=cm>TWD97:
</span></span></span><span class=line><span class=ln>137</span><span class=cl><span class=cm>	248170.927211, 2652130.097602
</span></span></span><span class=line><span class=ln>138</span><span class=cl><span class=cm>LonLat:
</span></span></span><span class=line><span class=ln>139</span><span class=cl><span class=cm>	120.982026, 23.973876
</span></span></span><span class=line><span class=ln>140</span><span class=cl><span class=cm>*/</span>
</span></span></code></pre></div><h2 id=小結>小結</h2><p>台灣使用的座標表示法，想不到裡面有這麼多歷史可以探究。筆者看完許多資料後，推薦有興趣的同學可以看一看 <a href=https://wiki.osgeo.org/wiki/Taiwan_datums>Taiwan datums</a> ，裡面干貨滿滿 !!
另外，本最後的實作主要是參考 <a href=http://sask989.blogspot.com/2012/05/wgs84totwd97.html>大胖子與小個子的部落格</a> 的程式，並以 Go 改寫。
感謝前人的整理與貢獻!</p><h2 id=參考連結>參考連結</h2><ul><li><a href=http://www.sunriver.com.tw/grid_tm2.htm>大地座標系統漫談</a></li><li><a href=https://wiki.osgeo.org/wiki/Taiwan_datums>Taiwan datums</a></li><li><a href=http://sask989.blogspot.com/2012/05/wgs84totwd97.html>大胖子與小個子的部落格</a></li><li><a href=http://gis.thl.ncku.edu.tw/coordtrans/coordtrans.aspx>國立成功大學水工試驗所</a></li><li><a href=http://140.121.160.124/GEO/991-4c.pdf>坐標系統</a></li></ul></div><footer class=post-footer><div class=post-nav><a href=https://e61983.github.io/posts/stm32mp-with-yocto-4/ class=post-nav-prev><span class=nav-label>上一篇</span>
<span class=nav-title>在 STM32MP1 上使用 Yocto 建置 Linux 系統 4</span>
</a><a href=https://e61983.github.io/posts/gps-module/ class=post-nav-next><span class=nav-label>下一篇</span>
<span class=nav-title>NEO M8N GPS模組</span></a></div></footer></article><aside class=post-sidebar><nav class="toc desktop-toc"><h3 class=toc-title>目錄</h3><nav id=TableOfContents><ul><li><a href=#前言>前言</a></li><li><a href=#主要內容>主要內容</a><ul><li></li><li><a href=#座標轉換>座標轉換</a></li></ul></li><li><a href=#小結>小結</a></li><li><a href=#參考連結>參考連結</a></li></ul></nav></nav></aside></div></div><button id=backToTop class=back-to-top aria-label=回到頂部>
<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg></button></main><footer class=footer><div class=container><div class=footer-content><div class=social-links><a href=https://github.com/e61983 target=_blank rel=noopener class=social-link><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.374.0.0 5.373.0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931.0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176.0.0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221.0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
GitHub</a></div><div class=copyright><p>&copy; 2025 Yuan. All rights reserved.</p><p>Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a> & Yuan Theme</p></div></div></div></footer></div><script src=https://e61983.github.io/yuan/js/main.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-FQ2NLS0SEB"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FQ2NLS0SEB",{send_page_view:!0,anonymize_ip:!0,allow_google_signals:!1,allow_ad_personalization_signals:!1})</script></body></html>