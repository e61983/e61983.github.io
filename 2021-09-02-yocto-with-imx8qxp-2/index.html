<!doctype html><html lang=zh-Hant><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/styles.039767fdf4d500f556eb0826c102d569.min.a0f0da2140f5a1e86fc7db4fc2ebcc01356749b80f9e6588f110974905642961.css></head><body class="flex flex-col bg-black/80 space-y-2 m-2"><header class="flex flex-col items-center space-y-2 mt-[2rem]"><div class="flex flex-col items-center space-y-2 max-w-[5rem] min-w-[4rem] aspect-square"><div class="rounded-full max-w-[200px] max-h-[200px] overflow-hidden"><a href=https://www.linkedin.com/in/hua-yuan-li-b78865a1 target=_blank><img src="https://s.gravatar.com/avatar/1de829f84243bf6dd7f417f3ee5543be?s=200"></a></div></div><a href=/ class="text-2xl text-white font-semibold">Yuan のノート</a><div class="text-yellow-500 text-xs">心之所至，隨意亂書</div></header><nav class="container mx-auto px-2 rounded bg-slate-600"><div class="flex space-x-2 justify-end"><a href=/ class="text-lg font-semibold capitalize py-2 px-1 duration-150
text-yellow-500 hover:text-yellow-300">home
</a><a href=/abouts/ class="text-lg font-semibold capitalize py-2 px-1 duration-150
text-yellow-500 hover:text-yellow-300">abouts
</a><a href=/archives/ class="text-lg font-semibold capitalize py-2 px-1 duration-150
text-yellow-500 hover:text-yellow-300">Archives</a></div></nav><section class="mt-2 container mx-auto"><div class="bg-white flex px-12 py-4 space-x-8 rounded"><main class=flex-grow><article class="flex flex-col space-y-2"><a href=/2021-09-02-yocto-with-imx8qxp-2/ class="text-2xl font-semibold text-yellow-500">在 i.MX 8QuadXPlus 上使用 Yocto 建置 Linux 系統 2</a><div class="flex items-center space-x-2"><div class="text-xs text-slate-500">Thu Sep 2, 2021</div><span>🏷️</span><ul class="flex space-x-2"><li class="text-sm text-slate-400"><a href=https://e61983.github.io/tags/i.mx8qxp/ title=i.mx8qxp>#i.mx8qxp</a></li><li class="text-sm text-slate-400"><a href=https://e61983.github.io/tags/device-tree/ title="device tree">#device tree</a></li><li class="text-sm text-slate-400"><a href=https://e61983.github.io/tags/yocto/ title=yocto>#yocto</a></li><li class="text-sm text-slate-400"><a href=https://e61983.github.io/tags/linux/ title=linux>#linux</a></li></ul></div><div class="w-full content"><h2 id=前言>前言</h2><p>繼上一篇我們建立了可開機的映像檔後，接下來我們要來修改修改預設的除錯埠。從 UART0 改至 UART2。</p><h2 id=主要內容>主要內容</h2><h3 id=寫在開始之前>寫在開始之前</h3><p>在 Yocto 專案中，有關硬體的配置都會記錄在 Machine Layer。所以我們要先從 Machine 配置檔找到相關的資訊，再開始修改。
在找到 u-boot 相關的資訊後，我們可能要修改:</p><ol><li>裝置樹 ( Devicetree )</li><li>GPIO初始化 (時序、iomux)</li><li>除錯埠相關設定</li><li>Kernel 開機參數</li></ol><h3 id=uart2-在哪裡>UART2 在哪裡</h3><p>從主板上我們可以看到有一組 DB9 的連接埠，上面寫著 RS232。但我們要如何知道它是哪一個 UART 埠呢?</p><figure><img src=images/uart2-photo.png alt="主板上的 UART2"><figcaption><p>主板上的 UART2</p></figcaption></figure><p>我們可以從官方提供的電路圖來看，先找到 J37 (主板上有寫) 的元件。再從此開始一路的往源頭找。</p><p><figure><img src=images/uart2-db9.png alt="UART2 DB9"><figcaption><p>UART2 DB9</p></figcaption></figure><figure><img src=images/bb_uart2.png alt=電路圖><figcaption><p>電路圖</p></figcaption></figure></p><p>最後我們可以看到它是接在 i.mx8qxp 的 <code>AD34</code> 與 <code>AD35</code> 上。</p><figure><img src=images/cpu_uart2.png alt=電路圖><figcaption><p>電路圖</p></figcaption></figure><p>我們可以看到 <code>AD34</code> 與 <code>AD35</code> 即是 <code>UART2_RX</code> 與 <code>UART2_TX</code> 。</p><figure><img src=images/ad34_ad45.png alt="i.MX 8QuadXPlus and 8DualXPlus Automotive and Infotainment Applications Processors, P128"><figcaption><p>i.MX 8QuadXPlus and 8DualXPlus Automotive and Infotainment Applications Processors, P128</p></figcaption></figure><p>也可以在參考手冊找到 UART2 的暫存器位置。</p><figure><img src=images/uart2_address.png alt="i.MX 8DualX/8DualXPlus/8QuadXPlus Applications Processor Reference Manual, P31"><figcaption><p>i.MX 8DualX/8DualXPlus/8QuadXPlus Applications Processor Reference Manual, P31</p></figcaption></figure><h3 id=測試-uart2-是否正常>測試 UART2 是否正常</h3><p>在這裡我們可以先將 <strong>boot</strong> 切換至 eMMC 並從新開機。
連接好 i.mx8qxp 後，我們可以在 Host 端使用習慣的 RS232 工具軟體開啟 RS232 串列埠。
接著在 i.mx8qxp 上配置好 UART2 的鮑率後，就可以進行測試了。</p><blockquote><p>如果主板的 eMMC 中並沒有可用的系統，關於這一點，以後我們會專門製作一篇為大家講解.。</p></blockquote><p>在 Host 端:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>screen /dev/tty.XXXXX <span style=color:#ae81ff>115200</span>
</span></span></code></pre></td></tr></table></div></div><p>在 i.mx8qxp 端:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 修改 ttyLP2 所使用的鮑率</span>
</span></span><span style=display:flex><span>stty -F /dev/ttyLP2 <span style=color:#ae81ff>115200</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Hello Word!&#34;</span> &gt; /dev//dev/ttyLP2
</span></span></code></pre></td></tr></table></div></div><h3 id=修改-u-boot>修改 U-Boot</h3><h4 id=來自-machine-layer-的訊息>來自 Machine Layer 的訊息</h4><p>我們在<a href=https://e61983.github.io/2021-09-01-yocto-with-imx8qxp/#建立-yocto-環境>上一篇</a>是指定 <code>imx8qxpc0mek</code> 為目標機器，所以我們可以先找到此配置檔。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd imx-yocto-bsp/sources
</span></span><span style=display:flex><span>find . -iname <span style=color:#e6db74>&#34;*imx8qxpc0mek*&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Output:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ./meta-imx/meta-bsp/conf/machine/imx8qxpc0mek.conf</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=u-boot-相關配置>U-Boot 相關配置</h4><p>在找到目標機器的配置檔後，我們可以找詢有關 <code>VIRTUAL/BOOTLOADER</code> 或是 <code>VIRTUAL/UBOOT</code> 相關的設定。
如果沒有看到相關設定的話，我們可以再往它的 <code>require</code> 或是 <code>include</code> 檔查找。</p><p>在 <strong>imx8qxp-mek.conf</strong> 我們知道了 U-Boot 的 defconfig 檔, 檔名為 <strong>imx8qxp_mek</strong></p><figure><img src=images/imx8qxp-mek.conf.png alt=imx8qxp-mek.conf><figcaption><p>imx8qxp-mek.conf</p></figcaption></figure><div class="notices info" data-title="Imx8qxpc0mek.conf 引用路徑(非完整)"><ul><li>imx-yocto-bsp/sources/meta-imx/meta-bsp/conf/machine/imx8qxpc0mek.conf<ul><li>require imx-yocto-bsp/sources/meta-freescale/conf/machine/imx8qxp-mek.conf<ul><li>require imx-yocto-bsp/sources/meta-freescale/conf/machine/include/imx8x-mek.inc<ul><li>require imx-yocto-bsp/sources/meta-freescale/conf/machine/include/imx-base.inc</li></ul></li></ul></li></ul></li></ul></div><h4 id=確認-u-boot-套件資訊>確認 U-Boot 套件資訊</h4><p>我們可以透過找尋下列變數，來找到使用的 U-Boot Package 名稱。</p><ul><li>PREFERRED_PROVIDER_u-boot</li><li>PREFERRED_PROVIDER_virtual/bootloader</li></ul><p>在編譯過後，原始碼可以在 ${WORK_DIR} 資料夾中找到。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls imx-yocto-bsp/first-build/tmp/work/imx8qxpc0mek-poky-linux/u-boot-imx/1_2021.04-r0/git
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Output:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># api     config.mk  dts                    include   MAINTAINERS  scripts</span>
</span></span><span style=display:flex><span><span style=color:#75715e># arch    configs    env                    Kbuild    Makefile     test</span>
</span></span><span style=display:flex><span><span style=color:#75715e># board   disk       examples               Kconfig   net          tools</span>
</span></span><span style=display:flex><span><span style=color:#75715e># cmd     doc        fs                     lib       post</span>
</span></span><span style=display:flex><span><span style=color:#75715e># common  drivers    imx8qxp_mek_defconfig  Licenses  README</span>
</span></span></code></pre></td></tr></table></div></div><p>不過我們其實也可以直接使用 <code>devshell</code> ，在 devshell 環境進行修改就可以了。</p><h4 id=確認-u-boot-開機時使用的裝置樹devicetree>確認 U-Boot 開機時使用的裝置樹(Devicetree)</h4><p>開機所使用的裝置樹資訊，會記錄在 <code>defconfig</code> 中，我們可以在 <code>configs</code> 中找詢 <strong>imx8qxp_mek_defconfig</strong> 配置檔。從配置檔中，我們可以看到它是使用 <strong>fsl-imx8qxp-mek</strong>。</p><p>這個檔案我們可以在 <code>/arch/arm/dts/</code> 中看到。</p><figure><img src=images/imx8qxp_mek_defconfig.png alt=imx8qxp_mek_defconfig><figcaption><p>imx8qxp_mek_defconfig</p></figcaption></figure><h4 id=修改-u-boot-裝置樹devicetree>修改 U-Boot 裝置樹(Devicetree)</h4><p>在找尋的過程中發現 <strong>fsl-imx8qxp-ai_ml.dts</strong> 是使用 UART2 作為預設的輸出，所以我們可以參考它來進行修改。</p><p>下列是我們會修改到的檔案:</p><ul><li>arch/arm/dts/fsl-imx8dx.dtsi</li><li>arch/arm/dts/fsl-imx8qxp-mek-u-boot.dtsi</li><li>arch/arm/dts/fsl-imx8qxp-mek.dts</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bitbake -c devshell virtual/bootloader
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">120
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span>diff --git a/arch/arm/dts/fsl-imx8dx.dtsi b/arch/arm/dts/fsl-imx8dx.dtsi
</span></span><span style=display:flex><span>index a36bf388c7..4d2606defe 100644
</span></span><span style=display:flex><span><span style=color:#f92672>--- a/arch/arm/dts/fsl-imx8dx.dtsi
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+++ b/arch/arm/dts/fsl-imx8dx.dtsi
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span><span style=color:#75715e>@@ -975,25 +975,7 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                reg = &lt;SC_R_UART_2&gt;;
</span></span><span style=display:flex><span>                #power-domain-cells = &lt;0&gt;;
</span></span><span style=display:flex><span>                power-domains = &lt;&amp;pd_dma&gt;;
</span></span><span style=display:flex><span><span style=color:#f92672>-               #address-cells = &lt;1&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-               #size-cells = &lt;0&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span>                wakeup-irq = &lt;347&gt;;
</span></span><span style=display:flex><span><span style=color:#f92672>-
</span></span></span><span style=display:flex><span><span style=color:#f92672>-               pd_dma2_chan12: PD_UART2_RX {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   reg = &lt;SC_R_DMA_2_CH12&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   power-domains =&lt;&amp;pd_dma_lpuart2&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   #power-domain-cells = &lt;0&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   #address-cells = &lt;1&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   #size-cells = &lt;0&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   pd_dma2_chan13: PD_UART2_TX {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                       reg = &lt;SC_R_DMA_2_CH13&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                       power-domains =&lt;&amp;pd_dma2_chan12&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                       #power-domain-cells = &lt;0&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                       #address-cells = &lt;1&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                       #size-cells = &lt;0&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   };
</span></span></span><span style=display:flex><span><span style=color:#f92672>-               };
</span></span></span><span style=display:flex><span><span style=color:#f92672></span>            };
</span></span><span style=display:flex><span>            pd_dma_lpuart3: PD_DMA_UART3 {
</span></span><span style=display:flex><span>                reg = &lt;SC_R_UART_3&gt;;
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -2839,10 +2821,7 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        clock-names = &#34;per&#34;, &#34;ipg&#34;;
</span></span><span style=display:flex><span>        assigned-clocks = &lt;&amp;clk IMX8QXP_UART2_CLK&gt;;
</span></span><span style=display:flex><span>        assigned-clock-rates = &lt;80000000&gt;;
</span></span><span style=display:flex><span><span style=color:#f92672>-       power-domains = &lt;&amp;pd_dma2_chan13&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-       dma-names = &#34;tx&#34;,&#34;rx&#34;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-       dmas = &lt;&amp;edma2 13 0 0&gt;,
</span></span></span><span style=display:flex><span><span style=color:#f92672>-           &lt;&amp;edma2 12 0 1&gt;;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+       power-domains = &lt;&amp;pd_dma_lpuart2&gt;;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>        status = &#34;disabled&#34;;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>diff --git a/arch/arm/dts/fsl-imx8qxp-mek-u-boot.dtsi b/arch/arm/dts/fsl-imx8qxp-mek-u-boot.dtsi
</span></span><span style=display:flex><span>index 5327485bfa..7df4d1bb5e 100644
</span></span><span style=display:flex><span><span style=color:#f92672>--- a/arch/arm/dts/fsl-imx8qxp-mek-u-boot.dtsi
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+++ b/arch/arm/dts/fsl-imx8qxp-mek-u-boot.dtsi
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span><span style=color:#75715e>@@ -68,6 +68,10 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 	u-boot,dm-spl;
</span></span><span style=display:flex><span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>+&amp;pinctrl_lpuart2 {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	u-boot,dm-spl;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+};
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> &amp;pinctrl_usdhc1 {
</span></span><span style=display:flex><span> 	u-boot,dm-spl;
</span></span><span style=display:flex><span> };
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -136,6 +140,10 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 	u-boot,dm-spl;
</span></span><span style=display:flex><span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>+&amp;pd_dma_lpuart2 {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	u-boot,dm-spl;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+};
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> &amp;pd_conn_usbotg0 {
</span></span><span style=display:flex><span> 	u-boot,dm-spl;
</span></span><span style=display:flex><span> };
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -208,6 +216,10 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 	u-boot,dm-spl;
</span></span><span style=display:flex><span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>+&amp;lpuart2 {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	u-boot,dm-spl;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+};
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> &amp;usbmisc1 {
</span></span><span style=display:flex><span> 	u-boot,dm-spl;
</span></span><span style=display:flex><span> };
</span></span><span style=display:flex><span>diff --git a/arch/arm/dts/fsl-imx8qxp-mek.dts b/arch/arm/dts/fsl-imx8qxp-mek.dts
</span></span><span style=display:flex><span>index 86aa868479..a5a5c5e49d 100644
</span></span><span style=display:flex><span><span style=color:#f92672>--- a/arch/arm/dts/fsl-imx8qxp-mek.dts
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+++ b/arch/arm/dts/fsl-imx8qxp-mek.dts
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span><span style=color:#75715e>@@ -21,8 +21,8 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 	};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> 	chosen {
</span></span><span style=display:flex><span><span style=color:#f92672>-		bootargs = &#34;console=ttyLP0,115200 earlycon&#34;;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-		stdout-path = &amp;lpuart0;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+		bootargs = &#34;console=ttyLP2,115200 earlycon&#34;;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+		stdout-path = &amp;lpuart2;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> 	};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> 	regulators {
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -126,6 +126,13 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 			&gt;;
</span></span><span style=display:flex><span> 		};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>+		pinctrl_lpuart2: lpuart2grp {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+			fsl,pins = &lt;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+				SC_P_UART2_RX_ADMA_UART2_R	0x06000020
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+				SC_P_UART2_TX_ADMA_UART2_T	0x06000020
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+			&gt;;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+		};
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> 		pinctrl_usdhc1: usdhc1grp {
</span></span><span style=display:flex><span> 			fsl,pins = &lt;
</span></span><span style=display:flex><span> 				SC_P_EMMC0_CLK_CONN_EMMC0_CLK		0x06000041
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -217,6 +224,12 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 	status = &#34;okay&#34;;
</span></span><span style=display:flex><span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>+&amp;lpuart2 {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	pinctrl-names = &#34;default&#34;;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	pinctrl-0 = &lt;&amp;pinctrl_lpuart2&gt;;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	status = &#34;okay&#34;;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+};
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> &amp;gpio0 {
</span></span><span style=display:flex><span> 	status = &#34;okay&#34;;
</span></span><span style=display:flex><span> };
</span></span></code></pre></td></tr></table></div></div><div class="notices info" data-title="Fsl imx8qxp mek.dts 引用路徑(非完整)"><ul><li>fsl-imx8qxp-mek.dts<ul><li>include fsl-imx8qxp.dtsi<ul><li>include fsl-imx8dxp.dtsi<ul><li>include fsl-imx8dx.dtsi<ul><li>include fsl-imx8-ca35.dtsi</li></ul></li></ul></li></ul></li></ul></li></ul></div><div class="notices info" data-title="Doc readme. spl"><p><strong>Device tree</strong>
The U-Boot device tree is filtered by the fdtgrep tools during the build
process to generate a much smaller device tree used in SPL (spl/u-boot-spl.dtb)
with:</p><ul><li>the mandatory nodes (/alias, /chosen, /config)</li><li>the nodes with one pre-relocation property:
&lsquo;u-boot,dm-pre-reloc&rsquo; or &lsquo;u-boot,dm-spl&rsquo;</li></ul><p>fdtgrep is also used to remove:</p><ul><li>the properties defined in CONFIG_OF_SPL_REMOVE_PROPS</li><li>all the pre-relocation properties
(&lsquo;u-boot,dm-pre-reloc&rsquo;, &lsquo;u-boot,dm-spl&rsquo; and &lsquo;u-boot,dm-tpl&rsquo;)</li></ul><p>All the nodes remaining in the SPL devicetree are bound
(see doc/driver-model/design.rst).</p></div><h4 id=修改-u-boot-開機配置>修改 U-Boot 開機配置</h4><p>下列是我們會修改到的檔案:</p><ul><li>arch/arm/mach-imx/imx8/clock.c</li><li>board/freescale/imx8qxp_mek/imx8qxp_mek.c</li><li>include/configs/imx8qxp_mek.h</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">79
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span>diff --git a/arch/arm/mach-imx/imx8/clock.c b/arch/arm/mach-imx/imx8/clock.c
</span></span><span style=display:flex><span>index 4eb22ce129..05343d901d 100644
</span></span><span style=display:flex><span><span style=color:#f92672>--- a/arch/arm/mach-imx/imx8/clock.c
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+++ b/arch/arm/mach-imx/imx8/clock.c
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span><span style=color:#75715e>@@ -27,7 +27,7 @@ u32 mxc_get_clock(enum mxc_clock clk)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 	switch (clk) {
</span></span><span style=display:flex><span> 	case MXC_UART_CLK:
</span></span><span style=display:flex><span> 		err = sc_pm_get_clock_rate(-1,
</span></span><span style=display:flex><span><span style=color:#f92672>-				SC_R_UART_0, 2, &amp;clkrate);
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+				SC_R_UART_2, 2, &amp;clkrate);
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> 		if (err != SC_ERR_NONE) {
</span></span><span style=display:flex><span> 			printf(&#34;sc get UART clk failed! err=%d\n&#34;, err);
</span></span><span style=display:flex><span> 			return 0;
</span></span><span style=display:flex><span>diff --git a/board/freescale/imx8qxp_mek/imx8qxp_mek.c b/board/freescale/imx8qxp_mek/imx8qxp_mek.c
</span></span><span style=display:flex><span>index a4f9fab986..71068b090d 100644
</span></span><span style=display:flex><span><span style=color:#f92672>--- a/board/freescale/imx8qxp_mek/imx8qxp_mek.c
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+++ b/board/freescale/imx8qxp_mek/imx8qxp_mek.c
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span><span style=color:#75715e>@@ -42,14 +42,14 @@ DECLARE_GLOBAL_DATA_PTR;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 			 (SC_PAD_28FDSOI_DSE_DV_HIGH &lt;&lt; PADRING_DSE_SHIFT) | \
</span></span><span style=display:flex><span> 			 (SC_PAD_28FDSOI_PS_PU &lt;&lt; PADRING_PULL_SHIFT))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>-static iomux_cfg_t uart0_pads[] = {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-	SC_P_UART0_RX | MUX_PAD_CTRL(UART_PAD_CTRL),
</span></span></span><span style=display:flex><span><span style=color:#f92672>-	SC_P_UART0_TX | MUX_PAD_CTRL(UART_PAD_CTRL),
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+static iomux_cfg_t uart2_pads[] = {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	SC_P_UART2_RX | MUX_PAD_CTRL(UART_PAD_CTRL),
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	SC_P_UART2_TX | MUX_PAD_CTRL(UART_PAD_CTRL),
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> static void setup_iomux_uart(void)
</span></span><span style=display:flex><span> {
</span></span><span style=display:flex><span><span style=color:#f92672>-	imx8_iomux_setup_multiple_pads(uart0_pads, ARRAY_SIZE(uart0_pads));
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+	imx8_iomux_setup_multiple_pads(uart2_pads, ARRAY_SIZE(uart2_pads));
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> int board_early_init_f(void)
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -57,8 +57,8 @@ int board_early_init_f(void)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 	sc_pm_clock_rate_t rate = SC_80MHZ;
</span></span><span style=display:flex><span> 	int ret;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>-	/* Set UART0 clock root to 80 MHz */
</span></span></span><span style=display:flex><span><span style=color:#f92672>-	ret = sc_pm_setup_uart(SC_R_UART_0, rate);
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+	/* Set uart2 clock root to 80 MHz */
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	ret = sc_pm_setup_uart(SC_R_UART_2, rate);
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> 	if (ret)
</span></span><span style=display:flex><span> 		return ret;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -348,7 +348,7 @@ int board_init(void)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> void board_quiesce_devices(void)
</span></span><span style=display:flex><span> {
</span></span><span style=display:flex><span>    const char *power_on_devices[] = {
</span></span><span style=display:flex><span><span style=color:#f92672>-       &#34;dma_lpuart0&#34;,
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+       &#34;dma_lpuart2&#34;,
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>
</span></span><span style=display:flex><span>        /* HIFI DSP boot */
</span></span><span style=display:flex><span>        &#34;audio_sai0&#34;,
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>diff --git a/include/configs/imx8qxp_mek.h b/include/configs/imx8qxp_mek.h
</span></span><span style=display:flex><span>index 8e5e48026e..124cbc715c 100644
</span></span><span style=display:flex><span><span style=color:#f92672>--- a/include/configs/imx8qxp_mek.h
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+++ b/include/configs/imx8qxp_mek.h
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span><span style=color:#75715e>@@ -30,7 +30,7 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> #define CONFIG_SPL_BSS_MAX_SIZE		0x1000	/* 4 KB */
</span></span><span style=display:flex><span> #define CONFIG_SYS_SPL_MALLOC_START	0x82200000
</span></span><span style=display:flex><span> #define CONFIG_SYS_SPL_MALLOC_SIZE     0x80000	/* 512 KB */
</span></span><span style=display:flex><span><span style=color:#f92672>-#define CONFIG_SERIAL_LPUART_BASE	0x5a060000
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+#define CONFIG_SERIAL_LPUART_BASE	0x5a080000 /* use UART2 */
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> #define CONFIG_MALLOC_F_ADDR		0x00138000
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> #define CONFIG_SPL_RAW_IMAGE_ARM_TRUSTED_FIRMWARE
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -125,7 +125,7 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 	&#34;script=boot.scr\0&#34; \
</span></span><span style=display:flex><span> 	&#34;image=Image\0&#34; \
</span></span><span style=display:flex><span> 	&#34;splashimage=0x9e000000\0&#34; \
</span></span><span style=display:flex><span><span style=color:#f92672>-	&#34;console=ttyLP0\0&#34; \
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+	&#34;console=ttyLP2\0&#34; \
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> 	&#34;fdt_addr=0x83000000\0&#34;			\
</span></span><span style=display:flex><span> 	&#34;fdt_high=0xffffffffffffffff\0&#34;		\
</span></span><span style=display:flex><span> 	&#34;cntr_addr=0x98000000\0&#34;			\
</span></span></code></pre></td></tr></table></div></div><h4 id=建立-u-boot--的-patch>建立 U-Boot 的 Patch</h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git diff &gt; <span style=color:#e6db74>${</span>BUILD_DIR<span style=color:#e6db74>}</span>/0001-UART0-to-UART2-modification.patch
</span></span><span style=display:flex><span>bitbake -c clean virtual/bootloader
</span></span></code></pre></td></tr></table></div></div><h3 id=修改-kernel>修改 Kernel</h3><p>修改完 Bootloader 的配置之後，接下來我們要修改 Kernel 的配置。</p><p>我們可以透過找尋 <code>PREFERRED_PROVIDER_virtual/kernel</code> 變數，來找到使用的 Kernel Package 名稱 <strong>linux-fslc-imx</strong>。</p><h4 id=確認-kernel-用的裝置樹devicetree>確認 Kernel 用的裝置樹(Devicetree)</h4><p>我們可以看到 <strong>machine/imx8qxpc0mek.conf</strong> 中， <code>KERNEL_DEVICETREE</code> 變數記錄了許多裝置樹。
但實際會使用哪一個來開機，會是在 u-boot 決定的。所以我們可以觀察 u-bbot 中的程式碼，最後會發它是使用 <strong>imx8qxp-mek.dtb</strong> 來開機的。</p><figure><img src=images/linux-fdt.png alt=imx8qxp_mek.c:412><figcaption><p>imx8qxp_mek.c:412</p></figcaption></figure><h4 id=修改-kernel-用的裝置樹devicetree>修改 Kernel 用的裝置樹(Devicetree)</h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bitbake -c devshell virtual/kernel
</span></span></code></pre></td></tr></table></div></div><p>下列是我們會修改到的檔案:</p><ul><li>arch/arm64/boot/dts/freescale/imx8x-mek.dtsi</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=font-weight:700>---
</span></span></span><span style=display:flex><span><span style=font-weight:700></span>diff --git a/arch/arm64/boot/dts/freescale/imx8x-mek.dtsi b/arch/arm64/boot/dts/freescale/imx8x-mek.dtsi
</span></span><span style=display:flex><span>index e7f348c2ad14..b08160c5832e 100644
</span></span><span style=display:flex><span><span style=color:#f92672>--- a/arch/arm64/boot/dts/freescale/imx8x-mek.dtsi
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+++ b/arch/arm64/boot/dts/freescale/imx8x-mek.dtsi
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span><span style=color:#75715e>@@ -6,7 +6,7 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> #include &lt;dt-bindings/usb/pd.h&gt;
</span></span><span style=display:flex><span> / {
</span></span><span style=display:flex><span> 	chosen {
</span></span><span style=display:flex><span><span style=color:#f92672>-		stdout-path = &amp;lpuart0;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+		stdout-path = &amp;lpuart2;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> 	};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> 	brcmfmac: brcmfmac {
</span></span></code></pre></td></tr></table></div></div><div class="notices info" data-title="Imx8x mek.dts 引用路徑(非完整)"><ul><li>imx8x-mek.dts<ul><li>imx8x-mek.dtsi</li></ul></li></ul></div><div class="notices info" data-title="Documentation devicetree bindings chosen.txt (節錄)"><p><strong>The chosen node</strong></p><p>The chosen node does not represent a real device, but serves as a place
for passing data between firmware and the operating system, like boot
arguments. Data in the chosen node does not represent the hardware.</p><p>(略)</p><p><strong>stdout-path</strong></p><p>Device trees may specify the device to be used for boot console output
with a stdout-path property under /chosen, as described in the Devicetree
Specification，e.g.</p><p>(略)</p></div><h4 id=建立-kernel-的-patch>建立 Kernel 的 Patch</h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git diff &gt; <span style=color:#e6db74>${</span>BUILD_DIR<span style=color:#e6db74>}</span>/0001-Kernel-UART0-to-UART2-modification.patch
</span></span><span style=display:flex><span>bitbake -c clean virtual/kernel
</span></span></code></pre></td></tr></table></div></div><h3 id=建立新的-layer-並加入-patch>建立新的 Layer 並加入 Patch</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 建立新的 Layer - meta-first</span>
</span></span><span style=display:flex><span>bitbake-layers create-layer meta-first
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用 meta-first Layer</span>
</span></span><span style=display:flex><span>bitbake-layers add-layer meta-first
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 建立新的 recipe 用來加上我們前面的修改</span>
</span></span><span style=display:flex><span>recipetool appendsrcfile ../meta-first virtual/bootloader ../0001-UART0-to-UART2-modification.patch
</span></span><span style=display:flex><span>recipetool appendsrcfile ../meta-rtc virtual/kernel  ../0001-Kernel-UART0-to-UART2-modification.patch
</span></span></code></pre></td></tr></table></div></div><div class="notices info" data-title=Info><p>我們可以使用 <code>bitbake-layers</code> 來查看 bbappend 是否有發生作用。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bitbake-layers show-appends
</span></span><span style=display:flex><span>bitbake -e virtual/bootloader
</span></span></code></pre></td></tr></table></div></div></div><h3 id=重新編譯映像檔並燒寫至-sd-卡>重新編譯映像檔並燒寫至 SD 卡</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 開始編譯</span>
</span></span><span style=display:flex><span>bitbake imx-image-core
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 將映像檔寫入 SD 卡中</span>
</span></span><span style=display:flex><span>bzcat &lt;image_name&gt;.wic.bz2 | sudo dd of<span style=color:#f92672>=</span>/dev/sd&lt;partition&gt; bs<span style=color:#f92672>=</span>1M conv<span style=color:#f92672>=</span>fsync
</span></span></code></pre></td></tr></table></div></div><h3 id=結果>結果</h3><p>在接上 Host 與 主板上的 UART2 之後，我們重新啟動電源。</p><figure><img src=images/uart2_connection.png alt="從 UART2 看到 U-Boot 的輸出訊息"><figcaption><p>從 UART2 看到 U-Boot 的輸出訊息</p></figcaption></figure><p>可以看到開機的相關資訊已改從 UART2 輸出了。</p><p><figure><img src=images/result-uboot.png alt="從 UART2 看到 U-Boot 的輸出訊息"><figcaption><p>從 UART2 看到 U-Boot 的輸出訊息</p></figcaption></figure><figure><img src=images/result-kernel.png alt="從 UART2 看到 Kernel 的輸出訊息"><figcaption><p>從 UART2 看到 Kernel 的輸出訊息</p></figcaption></figure></p><h2 id=小結>小結</h2><p>這一篇需要了解的東西比較多。除了 Yocto 本身之外，還要了解 U-Boot 的配置、Kernel 的配置、裝置樹以及 Kernel 的開機流程。</p><ul><li>Yocto 可以參考 <a href=https://e61983.github.io/2021-07-27-yocto-introduction/>Yocto 基礎介紹</a></li></ul><p>其他的部份，以後我們會再為大家進行說明。</p><p>本篇所使用的 patch 就放在<a href=0001-UART0-to-UART2-modification.patch>這</a>提供給同學參考了。</p><h2 id=參考連結>參考連結</h2><ul><li><a href=https://www.yoctoproject.org/docs/1.7/ref-manual/ref-manual.html#var-MACHINEOVERRIDES target=_blank rel=noopener>var-MACHINEOVERRIDES</a></li><li><a href="https://www.wpgdadatong.com/tw/blog/detail?BID=B3695" target=_blank rel=noopener>[NXP i.MX 應用處理器教室] 在i.MX8QXP 平台更換偵錯的 UART接口</a></li></ul><h2>相關頁面</h2><ul><li><a href=/2021-09-01-yocto-with-imx8qxp/>在 i.MX 8QuadXPlus 上使用 Yocto 建置 Linux 系統</a></li><li><a href=/2021-08-12-stm32mp-with-yocto-4/>在 STM32MP1 上使用 Yocto 建置 Linux 系統 4</a></li><li><a href=/2021-08-12-stm32mp-with-yocto-3/>在 STM32MP1 上使用 Yocto 建置 Linux 系統 3</a></li><li><a href=/2021-08-12-stm32mp-with-yocto-2/>在 STM32MP1 上使用 Yocto 建置 Linux 系統 2</a></li><li><a href=/2021-08-11-stm32mp-with-yocto/>在 STM32MP1 上使用 Yocto 建置 Linux 系統</a></li></ul></div></article></main><aside class="lg:block hidden w-2/12 flex-shrink-0"><div class="border flex flex-col px-4 py-2 space-y-2 rounded shadow-md"><div class="text-yellow-500 font-normal">文章分類</div><div class="flex flex-col"><a href=/categories/c-language/ class="flex justify-between items-center border-b last:border-0 py-1 group capitalize"><span class="text-slate-800 group-hover:text-yellow-500 duration-200 truncate">c language </span><span class="text-sm text-slate-600">(2) </span></a><a href=/categories/database/ class="flex justify-between items-center border-b last:border-0 py-1 group capitalize"><span class="text-slate-800 group-hover:text-yellow-500 duration-200 truncate">database </span><span class="text-sm text-slate-600">(1) </span></a><a href=/categories/embedded-system/ class="flex justify-between items-center border-b last:border-0 py-1 group capitalize"><span class="text-slate-800 group-hover:text-yellow-500 duration-200 truncate">embedded system </span><span class="text-sm text-slate-600">(12) </span></a><a href=/categories/gis/ class="flex justify-between items-center border-b last:border-0 py-1 group capitalize"><span class="text-slate-800 group-hover:text-yellow-500 duration-200 truncate">gis </span><span class="text-sm text-slate-600">(3) </span></a><a href=/categories/hacker/ class="flex justify-between items-center border-b last:border-0 py-1 group capitalize"><span class="text-slate-800 group-hover:text-yellow-500 duration-200 truncate">hacker </span><span class="text-sm text-slate-600">(1) </span></a><a href=/categories/mis/ class="flex justify-between items-center border-b last:border-0 py-1 group capitalize"><span class="text-slate-800 group-hover:text-yellow-500 duration-200 truncate">mis </span><span class="text-sm text-slate-600">(4) </span></a><a href=/categories/note/ class="flex justify-between items-center border-b last:border-0 py-1 group capitalize"><span class="text-slate-800 group-hover:text-yellow-500 duration-200 truncate">note </span><span class="text-sm text-slate-600">(9) </span></a><a href=/categories/website/ class="flex justify-between items-center border-b last:border-0 py-1 group capitalize"><span class="text-slate-800 group-hover:text-yellow-500 duration-200 truncate">website </span><span class="text-sm text-slate-600">(5)</span></a></div><div class="text-yellow-500 font-normal">文章標籤</div><div class="flex flex-wrap gap-2"><a href=/tags/acl/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">acl
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/bootstrap/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">bootstrap
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/c/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">c
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/c11/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">c11
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/ceh/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">ceh
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/chatbot/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">chatbot
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/cli/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">cli
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/cookie/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">cookie
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/coscup/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">coscup
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">2
</span></a><a href=/tags/debian/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">debian
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/device-tree/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">device tree
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/electron/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">electron
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/gcc/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">gcc
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/geo/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">geo
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/geojson/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">geojson
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/gin/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">gin
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/git/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">git
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/go/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">go
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">9
</span></a><a href=/tags/gps/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">gps
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">2
</span></a><a href=/tags/hacker/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">hacker
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/i.mx8qxp/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">i.mx8qxp
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">4
</span></a><a href=/tags/iperf/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">iperf
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/kernel/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">kernel
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/leaflet/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">leaflet
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/library/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">library
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/liff/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">liff
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/linker/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">linker
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/linux/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">linux
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">13
</span></a><a href=/tags/macos/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">MacOS
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/map/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">map
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/markdown/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">markdown
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/mysql/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">mysql
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/nas/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">nas
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/nfs/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">nfs
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/openvpn/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">openvpn
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/opnsense/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">opnsense
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/pdf/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">pdf
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/pfsense/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">pfsense
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/postgresql/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">postgresql
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/protobuf/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">protobuf
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/server/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">server
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/ssh/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">ssh
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/stm32mp1/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">stm32mp1
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">4
</span></a><a href=/tags/synology/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">synology
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/tftp/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">tftp
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/u-boot/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">u-boot
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/unifi/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">unifi
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/vpn/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">vpn
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/vscode/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">VSCode
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/vue/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">vue
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/web/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">web
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">2
</span></a><a href=/tags/web-backend/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">web backend
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/websocket/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">websocket
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">1
</span></a><a href=/tags/yocto/ class="flex text-sm text-slate-600 group"><span class="bg-slate-400/10 px-0.5 rounded-l group-hover:font-semibold duration-200">yocto
</span><span class="bg-slate-400/20 px-0.5 rounded-r text-sm">12</span></a></div></div></aside></div></section><footer class="w-full flex justify-center py-2 text-white">©2017-2024, All Rights Reserved</footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-FQ2NLS0SEB"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FQ2NLS0SEB",{anonymize_ip:!1})}</script></body></html>